<!doctype html><html lang=cn dir=ltr><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="ğŸ  é¦–é¡µ / Kubernetes / äº‘åŸç”Ÿ DevOps åº”çŸ¥åº”ä¼š
äº‘åŸç”Ÿ DevOps åº”çŸ¥åº”ä¼š # 1. å®¹å™¨åŸºç¡€ # 1.1 å®¹å™¨æ¦‚è¿° # å®¹å™¨ vs è™šæ‹Ÿæœº å®¹å™¨çš„æ ¸å¿ƒä¼˜åŠ¿ï¼š ä½•ä¸ºå®¹å™¨åŒ–ï¼Ÿå®ƒå¸¦æ¥ä»€ä¹ˆå¥½å¤„ï¼Ÿ 1.2 å®¹å™¨è¿è¡Œæ—¶ # Dockerï¼š Docker å¿«é€Ÿå…¥é—¨ containerd / CRI-O åœ¨çº¿ä½“éªŒ Dockerï¼š Play with Docker
1.3 å®¹å™¨ç½‘ç»œ # Bridge, Host, None, Macvlan CNI æ’ä»¶ï¼š Flannel Calico Cilium 1.4 å®¹å™¨å­˜å‚¨ # Volumeã€Bind Mountã€OverlayFS å­˜å‚¨æ–¹æ¡ˆï¼š Longhorn Ceph 2. Kubernetes è¿è¡ŒåŸºç¡€ # Kubernetes æ¶æ„ï¼š 2.1 æ ¸å¿ƒç»„ä»¶ # API Server Scheduler Controller Manager Kubelet Kube-Proxy å‚è€ƒåšå®¢ï¼š kubernetes æ ¸å¿ƒç»„ä»¶è¿è¡Œæœºåˆ¶-åŸç†è§£æ"><meta name=theme-color media="(prefers-color-scheme: light)" content="#ffffff"><meta name=theme-color media="(prefers-color-scheme: dark)" content="#343a40"><meta name=color-scheme content="light dark"><meta property="og:url" content="https://blog.poneding.com/kubernetes/cloud-native-devops/"><meta property="og:site_name" content="ç§‹æ²³è½å¶"><meta property="og:title" content="ç§‹æ²³è½å¶"><meta property="og:description" content="ğŸ  é¦–é¡µ / Kubernetes / äº‘åŸç”Ÿ DevOps åº”çŸ¥åº”ä¼š
äº‘åŸç”Ÿ DevOps åº”çŸ¥åº”ä¼š # 1. å®¹å™¨åŸºç¡€ # 1.1 å®¹å™¨æ¦‚è¿° # å®¹å™¨ vs è™šæ‹Ÿæœº å®¹å™¨çš„æ ¸å¿ƒä¼˜åŠ¿ï¼š ä½•ä¸ºå®¹å™¨åŒ–ï¼Ÿå®ƒå¸¦æ¥ä»€ä¹ˆå¥½å¤„ï¼Ÿ 1.2 å®¹å™¨è¿è¡Œæ—¶ # Dockerï¼š Docker å¿«é€Ÿå…¥é—¨ containerd / CRI-O åœ¨çº¿ä½“éªŒ Dockerï¼š Play with Docker
1.3 å®¹å™¨ç½‘ç»œ # Bridge, Host, None, Macvlan CNI æ’ä»¶ï¼š Flannel Calico Cilium 1.4 å®¹å™¨å­˜å‚¨ # Volumeã€Bind Mountã€OverlayFS å­˜å‚¨æ–¹æ¡ˆï¼š Longhorn Ceph 2. Kubernetes è¿è¡ŒåŸºç¡€ # Kubernetes æ¶æ„ï¼š 2.1 æ ¸å¿ƒç»„ä»¶ # API Server Scheduler Controller Manager Kubelet Kube-Proxy å‚è€ƒåšå®¢ï¼š kubernetes æ ¸å¿ƒç»„ä»¶è¿è¡Œæœºåˆ¶-åŸç†è§£æ"><meta property="og:locale" content="cn"><meta property="og:type" content="article"><meta property="article:section" content="kubernetes"><meta property="article:modified_time" content="2025-02-14T13:09:27+08:00"><title>Cloud Native Devops | ç§‹æ²³è½å¶</title>
<link rel=manifest href=/manifest.json><link rel=icon href=/logo.png><link rel=canonical href=https://blog.poneding.com/kubernetes/cloud-native-devops/><link rel=stylesheet href=/book.min.4964903a822a7acb10dac6d1ab524833c97fb5f99b141976bcb8a47d539be9c0.css integrity="sha256-SWSQOoIqessQ2sbRq1JIM8l/tfmbFBl2vLikfVOb6cA=" crossorigin=anonymous><script defer src=/fuse.min.js></script><script defer src=/cn.search.min.05bdc1e5e7d432f1d971c82c50eea3de03c4c1f0ccd3960e433d917a6529dbac.js integrity="sha256-Bb3B5efUMvHZccgsUO6j3gPEwfDM05YOQz2RemUp26w=" crossorigin=anonymous></script><script defer src=/sw.min.6f6f90fcb8eb1c49ec389838e6b801d0de19430b8e516902f8d75c3c8bd98739.js integrity="sha256-b2+Q/LjrHEnsOJg45rgB0N4ZQwuOUWkC+NdcPIvZhzk=" crossorigin=anonymous></script><link rel=stylesheet href=/css/syntax.css></head><body dir=ltr><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><main class="container flex"><aside class=book-menu><div class=book-menu-content><nav><h2 class=book-brand><a class="flex align-center" href=/><img src=/logo.png alt=Logo><span>ç§‹æ²³è½å¶</span></a></h2><div class="book-search hidden"><input type=text id=book-search-input placeholder=æœç´¢ aria-label=æœç´¢ maxlength=64 data-hotkeys=s/><div class="book-search-spinner hidden"></div><ul id=book-search-results></ul></div><script>document.querySelector(".book-search").classList.remove("hidden")</script><p>ğŸ¦‰ é›†ä¸­èµ·æ¥çš„æ„å¿—å¯ä»¥å‡»ç©¿é¡½çŸ³ã€‚</p><hr><ul><li><p><a href=/><strong>ğŸ  é¦–é¡µ</strong></a></p></li><li><p><strong>ğŸ“Œ ç½®é¡¶æ–‡ç« </strong></p><ul><li><a href=/git/common-usage/>Git å¸¸ç”¨</a></li><li><a href=/kubernetes/kubeadm-install-k8s-docker/>å®‰è£… Kubernetes (Docker)</a></li></ul></li><li><p><strong>ğŸ“Œ ç½®é¡¶åˆ†ç±»</strong></p><ul><li><a href=/go/>Golang ç¼–ç¨‹</a></li><li><a href=/kubernetes/>Kubernetes</a></li><li><a href=/rust/>Rust ç¼–ç¨‹</a></li><li><a href=/git/>Git</a></li></ul></li></ul><hr><ul><li><strong>ğŸ—ƒï¸ å¼€æºé¡¹ç›®</strong><ul><li><a href=https://github.com/ketches/registry-proxy>registry-proxy</a></li><li><a href=https://github.com/poneding/mdi>mdi</a></li></ul></li></ul><hr><ul><li><a href=https://github.com/poneding target=_blank rel=noopener>ğŸ™ GitHub</a></li><li><a href=mailto:poneding@gmail.com target=_blank rel=noopener>ğŸ“¬ é‚®ç®±</a></li></ul></nav><script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script></div></aside><div class=book-page><header class=book-header><div class="flex align-center justify-between"><label for=menu-control><img src=/svg/menu.svg class=book-icon alt=Menu>
</label><strong>Cloud Native Devops</strong>
<label for=toc-control><img src=/svg/toc.svg class=book-icon alt="Table of Contents"></label></div><aside class="hidden clearfix"><nav id=TableOfContents><ul><li><a href=#1-å®¹å™¨åŸºç¡€>1. å®¹å™¨åŸºç¡€</a><ul><li><a href=#11-å®¹å™¨æ¦‚è¿°>1.1 å®¹å™¨æ¦‚è¿°</a></li><li><a href=#12-å®¹å™¨è¿è¡Œæ—¶>1.2 å®¹å™¨è¿è¡Œæ—¶</a></li><li><a href=#13-å®¹å™¨ç½‘ç»œ>1.3 å®¹å™¨ç½‘ç»œ</a></li><li><a href=#14-å®¹å™¨å­˜å‚¨>1.4 å®¹å™¨å­˜å‚¨</a></li></ul></li><li><a href=#2-kubernetes-è¿è¡ŒåŸºç¡€>2. Kubernetes è¿è¡ŒåŸºç¡€</a><ul><li><a href=#21-æ ¸å¿ƒç»„ä»¶>2.1 æ ¸å¿ƒç»„ä»¶</a></li><li><a href=#22-èµ„æºç®¡ç†>2.2 èµ„æºç®¡ç†</a></li><li><a href=#23-å­˜å‚¨ç®¡ç†>2.3 å­˜å‚¨ç®¡ç†</a></li><li><a href=#24-ç½‘ç»œç®¡ç†>2.4 ç½‘ç»œç®¡ç†</a></li></ul></li><li><a href=#3-kubernetes-è¿ç»´ç®¡ç†>3. Kubernetes è¿ç»´ç®¡ç†</a><ul><li><a href=#31-é›†ç¾¤å®‰è£…ä¸é…ç½®>3.1 é›†ç¾¤å®‰è£…ä¸é…ç½®</a></li><li><a href=#32-ç›‘æ§ä¸æ—¥å¿—>3.2 ç›‘æ§ä¸æ—¥å¿—</a></li><li><a href=#33-èµ„æºè°ƒä¼˜>3.3 èµ„æºè°ƒä¼˜</a></li></ul></li><li><a href=#4-kubernetes-é«˜çº§è¿ç»´>4. Kubernetes é«˜çº§è¿ç»´</a><ul><li><a href=#41-kubernetes-å®‰å…¨>4.1 Kubernetes å®‰å…¨</a></li><li><a href=#42-å¤‡ä»½ä¸æ¢å¤>4.2 å¤‡ä»½ä¸æ¢å¤</a></li><li><a href=#43-æ•…éšœæ’æŸ¥>4.3 æ•…éšœæ’æŸ¥</a></li></ul></li><li><a href=#5-è¿›é˜¶å·¥å…·ä¸å®è·µ>5. è¿›é˜¶å·¥å…·ä¸å®è·µ</a><ul><li><a href=#51-kubernetes-cicd>5.1 Kubernetes CI/CD</a></li><li><a href=#52-èµ„æºç®¡ç†å·¥å…·>5.2 èµ„æºç®¡ç†å·¥å…·</a></li><li><a href=#53-æ··æ²Œå·¥ç¨‹>5.3 æ··æ²Œå·¥ç¨‹</a></li></ul></li><li><a href=#6-å¸¸ç”¨å·¥å…·æ¨è>6. å¸¸ç”¨å·¥å…·æ¨è</a></li><li><a href=#7-kubernetes-è¿ç»´æœ€ä½³å®è·µ>7. Kubernetes è¿ç»´æœ€ä½³å®è·µ</a><ul><li><a href=#71-èµ„æºä¼˜åŒ–>7.1 èµ„æºä¼˜åŒ–</a></li><li><a href=#72-å®‰å…¨ç®¡ç†>7.2 å®‰å…¨ç®¡ç†</a></li><li><a href=#73-æ—¥å¿—ä¸ç›‘æ§>7.3 æ—¥å¿—ä¸ç›‘æ§</a></li><li><a href=#74-å¤‡ä»½ä¸æ¢å¤>7.4 å¤‡ä»½ä¸æ¢å¤</a></li><li><a href=#75-é«˜å¯ç”¨>7.5 é«˜å¯ç”¨</a></li></ul></li><li><a href=#8-æ¨èå­¦ä¹ ç½‘ç«™>8. æ¨èå­¦ä¹ ç½‘ç«™</a></li><li><a href=#æ€»ç»“>æ€»ç»“</a></li></ul></nav></aside></header><article class="markdown book-article"><p><a href=/>ğŸ  é¦–é¡µ</a> /
<a href=/kubernetes/>Kubernetes</a> / äº‘åŸç”Ÿ DevOps åº”çŸ¥åº”ä¼š</p><h1 id=äº‘åŸç”Ÿ-devops-åº”çŸ¥åº”ä¼š>äº‘åŸç”Ÿ DevOps åº”çŸ¥åº”ä¼š
<a class=anchor href=#%e4%ba%91%e5%8e%9f%e7%94%9f-devops-%e5%ba%94%e7%9f%a5%e5%ba%94%e4%bc%9a>#</a></h1><p><img src=./cloudnative-devops-roadmap.png alt="äº‘åŸç”Ÿ DevOps è·¯çº¿å›¾"></p><h2 id=1-å®¹å™¨åŸºç¡€>1. å®¹å™¨åŸºç¡€
<a class=anchor href=#1-%e5%ae%b9%e5%99%a8%e5%9f%ba%e7%a1%80>#</a></h2><h3 id=11-å®¹å™¨æ¦‚è¿°>1.1 å®¹å™¨æ¦‚è¿°
<a class=anchor href=#11-%e5%ae%b9%e5%99%a8%e6%a6%82%e8%bf%b0>#</a></h3><ul><li><a href=https://www.atlassian.com/zh/microservices/cloud-computing/containers-vs-vms>å®¹å™¨ vs è™šæ‹Ÿæœº</a></li><li>å®¹å™¨çš„æ ¸å¿ƒä¼˜åŠ¿ï¼š
<a href=https://www.veritas.com/zh/cn/information-center/containerization>ä½•ä¸ºå®¹å™¨åŒ–ï¼Ÿå®ƒå¸¦æ¥ä»€ä¹ˆå¥½å¤„ï¼Ÿ</a></li></ul><h3 id=12-å®¹å™¨è¿è¡Œæ—¶>1.2 å®¹å™¨è¿è¡Œæ—¶
<a class=anchor href=#12-%e5%ae%b9%e5%99%a8%e8%bf%90%e8%a1%8c%e6%97%b6>#</a></h3><ul><li>Dockerï¼š
<a href=https://docker.easydoc.net/doc/81170005/cCewZWoN/lTKfePfP>Docker å¿«é€Ÿå…¥é—¨</a></li><li>containerd / CRI-O</li></ul><p>åœ¨çº¿ä½“éªŒ Dockerï¼š
<a href=https://labs.play-with-docker.com/>Play with Docker</a></p><h3 id=13-å®¹å™¨ç½‘ç»œ>1.3 å®¹å™¨ç½‘ç»œ
<a class=anchor href=#13-%e5%ae%b9%e5%99%a8%e7%bd%91%e7%bb%9c>#</a></h3><ul><li>Bridge, Host, None, Macvlan</li><li>CNI æ’ä»¶ï¼š<ul><li><a href=https://github.com/flannel-io/flannel>Flannel</a></li><li><a href=https://github.com/projectcalico/calico>Calico</a></li><li>Cilium</li></ul></li></ul><h3 id=14-å®¹å™¨å­˜å‚¨>1.4 å®¹å™¨å­˜å‚¨
<a class=anchor href=#14-%e5%ae%b9%e5%99%a8%e5%ad%98%e5%82%a8>#</a></h3><ul><li>Volumeã€Bind Mountã€OverlayFS</li><li>å­˜å‚¨æ–¹æ¡ˆï¼š<ul><li><a href=https://longhorn.io/>Longhorn</a></li><li><a href=https://ceph.io/>Ceph</a></li></ul></li></ul><hr><h2 id=2-kubernetes-è¿è¡ŒåŸºç¡€>2. Kubernetes è¿è¡ŒåŸºç¡€
<a class=anchor href=#2-kubernetes-%e8%bf%90%e8%a1%8c%e5%9f%ba%e7%a1%80>#</a></h2><p>Kubernetes æ¶æ„ï¼š
<img src=./kubernetes-arch.png alt="alt text"></p><h3 id=21-æ ¸å¿ƒç»„ä»¶>2.1 æ ¸å¿ƒç»„ä»¶
<a class=anchor href=#21-%e6%a0%b8%e5%bf%83%e7%bb%84%e4%bb%b6>#</a></h3><ul><li>API Server</li><li>Scheduler</li><li>Controller Manager</li><li>Kubelet</li><li>Kube-Proxy</li></ul><p>å‚è€ƒåšå®¢ï¼š
<a href=https://juejin.cn/post/7357261180493348890>kubernetes æ ¸å¿ƒç»„ä»¶è¿è¡Œæœºåˆ¶-åŸç†è§£æ</a></p><h3 id=22-èµ„æºç®¡ç†>2.2 èµ„æºç®¡ç†
<a class=anchor href=#22-%e8%b5%84%e6%ba%90%e7%ae%a1%e7%90%86>#</a></h3><ul><li>Podã€Deploymentã€StatefulSetã€DaemonSet</li><li>Job / CronJobã€ConfigMapã€Secret</li></ul><h3 id=23-å­˜å‚¨ç®¡ç†>2.3 å­˜å‚¨ç®¡ç†
<a class=anchor href=#23-%e5%ad%98%e5%82%a8%e7%ae%a1%e7%90%86>#</a></h3><ul><li>PersistentVolumeï¼ˆPVï¼‰ & PersistentVolumeClaimï¼ˆPVCï¼‰</li><li>StorageClass & CSIï¼ˆå®¹å™¨å­˜å‚¨æ¥å£ï¼‰</li></ul><h3 id=24-ç½‘ç»œç®¡ç†>2.4 ç½‘ç»œç®¡ç†
<a class=anchor href=#24-%e7%bd%91%e7%bb%9c%e7%ae%a1%e7%90%86>#</a></h3><ul><li>Serviceï¼ˆClusterIP, NodePort, LoadBalancer, Headlessï¼‰</li><li>Ingress & Ingress Controllerï¼ˆNginx, Traefik, Istioï¼‰</li></ul><hr><h2 id=3-kubernetes-è¿ç»´ç®¡ç†>3. Kubernetes è¿ç»´ç®¡ç†
<a class=anchor href=#3-kubernetes-%e8%bf%90%e7%bb%b4%e7%ae%a1%e7%90%86>#</a></h2><h3 id=31-é›†ç¾¤å®‰è£…ä¸é…ç½®>3.1 é›†ç¾¤å®‰è£…ä¸é…ç½®
<a class=anchor href=#31-%e9%9b%86%e7%be%a4%e5%ae%89%e8%a3%85%e4%b8%8e%e9%85%8d%e7%bd%ae>#</a></h3><ul><li>Kubeadmï¼šå¿«é€Ÿéƒ¨ç½² Kubernetes é›†ç¾¤</li><li>MiniKubeï¼šæœ¬åœ°å•èŠ‚ç‚¹ Kubernetes</li><li>Kindï¼šåœ¨ Docker å®¹å™¨ä¸­è¿è¡Œ Kubernetes</li><li>K3sï¼šè½»é‡çº§ Kubernetes é›†ç¾¤</li><li>Rancherï¼šä¼ä¸šçº§ Kubernetes ç®¡ç†å¹³å°</li></ul><p>åœ¨çº¿ä½“éªŒ Kubernetesï¼š</p><ul><li><a href=https://labs.play-with-k8s.com/>Play with Kubernetes</a></li><li><a href=https://killercoda.com/kubernetes>killercoda</a></li></ul><h3 id=32-ç›‘æ§ä¸æ—¥å¿—>3.2 ç›‘æ§ä¸æ—¥å¿—
<a class=anchor href=#32-%e7%9b%91%e6%8e%a7%e4%b8%8e%e6%97%a5%e5%bf%97>#</a></h3><ul><li>Prometheus + Grafanaï¼ˆç›‘æ§ï¼‰ï¼š
<a href=https://jerrydevs.com/post/35>prometheus+grafanaç›‘æ§ç³»ç»Ÿæ•™ç¨‹</a></li><li>ELK</li><li>Lokiï¼ˆæ—¥å¿—æ”¶é›†ï¼‰ï¼š
<a href=https://docs.youdianzhishi.com/k8s/logging/loki/overview/>Loki æ—¥å¿—æ”¶é›†ç³»ç»Ÿ</a></li><li>Jaeger</li><li>OpenTelemetryï¼ˆé“¾è·¯è¿½è¸ªï¼‰
<a href=https://crossoverjie.top/2024/08/20/ob/OpenTelemetry-01-trace/>OpenTelemetry å®æˆ˜ï¼šä»é›¶å®ç°åˆ†å¸ƒå¼é“¾è·¯è¿½è¸ª</a></li></ul><h3 id=33-èµ„æºè°ƒä¼˜>3.3 èµ„æºè°ƒä¼˜
<a class=anchor href=#33-%e8%b5%84%e6%ba%90%e8%b0%83%e4%bc%98>#</a></h3><ul><li>CPU / å†…å­˜ é™åˆ¶ï¼ˆRequests & Limitsï¼‰</li><li>HPA è‡ªåŠ¨æ‰©å±•</li><li>è°ƒåº¦ä¼˜åŒ–ï¼ˆäº²å’Œæ€§ / åäº²å’Œæ€§ / Taints & Tolerationsï¼‰</li></ul><hr><h2 id=4-kubernetes-é«˜çº§è¿ç»´>4. Kubernetes é«˜çº§è¿ç»´
<a class=anchor href=#4-kubernetes-%e9%ab%98%e7%ba%a7%e8%bf%90%e7%bb%b4>#</a></h2><h3 id=41-kubernetes-å®‰å…¨>4.1 Kubernetes å®‰å…¨
<a class=anchor href=#41-kubernetes-%e5%ae%89%e5%85%a8>#</a></h3><ul><li>RBAC æƒé™ç®¡ç†</li><li>Pod å®‰å…¨ç­–ç•¥ï¼ˆPSP / SecurityContextï¼‰</li><li>NetworkPolicy ç½‘ç»œéš”ç¦»</li><li>Istio / Linkerdï¼ˆService Meshï¼‰</li></ul><h3 id=42-å¤‡ä»½ä¸æ¢å¤>4.2 å¤‡ä»½ä¸æ¢å¤
<a class=anchor href=#42-%e5%a4%87%e4%bb%bd%e4%b8%8e%e6%81%a2%e5%a4%8d>#</a></h3><ul><li><a href=https://www.zhaowenyu.com/etcd-doc/ops/data-backup-restore.html>etcd å¤‡ä»½ä¸æ¢å¤</a></li><li><a href=https://velero.io/docs/v1.15/>Veleroï¼ˆé›†ç¾¤æ•°æ®å¤‡ä»½ï¼‰</a></li><li>ArgoCD</li><li><a href=https://juejin.cn/post/7428032840288305192>GitLab CI å®è·µ</a></li><li><a href=https://chinalhr.github.io/post/gitops-argo-cd/>GitOps å®è·µ</a></li></ul><h3 id=43-æ•…éšœæ’æŸ¥>4.3 æ•…éšœæ’æŸ¥
<a class=anchor href=#43-%e6%95%85%e9%9a%9c%e6%8e%92%e6%9f%a5>#</a></h3><ul><li>kubectl describe / logs / exec</li><li>ç½‘ç»œæ’æŸ¥ï¼ˆService / Ingress / CNIï¼‰</li><li>å­˜å‚¨æ’æŸ¥ï¼ˆPV / PVC / CSIï¼‰</li></ul><p>Kubernetes æ•…éšœæ’æŸ¥å›¾è°±ï¼š
<img src=./kubernetes-ts.png alt="alt text"></p><hr><h2 id=5-è¿›é˜¶å·¥å…·ä¸å®è·µ>5. è¿›é˜¶å·¥å…·ä¸å®è·µ
<a class=anchor href=#5-%e8%bf%9b%e9%98%b6%e5%b7%a5%e5%85%b7%e4%b8%8e%e5%ae%9e%e8%b7%b5>#</a></h2><h3 id=51-kubernetes-cicd>5.1 Kubernetes CI/CD
<a class=anchor href=#51-kubernetes-cicd>#</a></h3><ul><li>GitOpsï¼ˆArgoCD / FluxCDï¼‰</li><li>Jenkins / Tekton / GitLab CI</li></ul><h3 id=52-èµ„æºç®¡ç†å·¥å…·>5.2 èµ„æºç®¡ç†å·¥å…·
<a class=anchor href=#52-%e8%b5%84%e6%ba%90%e7%ae%a1%e7%90%86%e5%b7%a5%e5%85%b7>#</a></h3><ul><li>Helmï¼ˆåº”ç”¨æ‰“åŒ…ä¸éƒ¨ç½²ï¼‰ ï¼š
<a href=https://helm.sh/zh/docs/intro/quickstart/>Helm å¿«é€Ÿå…¥é—¨æŒ‡å—</a></li><li>Kustomizeï¼ˆYAML èµ„æºç®¡ç†ï¼‰</li></ul><h3 id=53-æ··æ²Œå·¥ç¨‹>5.3 æ··æ²Œå·¥ç¨‹
<a class=anchor href=#53-%e6%b7%b7%e6%b2%8c%e5%b7%a5%e7%a8%8b>#</a></h3><ul><li><a href=https://chaos-mesh.org/website-zh/docs/next/>Chaos Mesh</a></li><li>LitmusChaos</li></ul><hr><h2 id=6-å¸¸ç”¨å·¥å…·æ¨è>6. å¸¸ç”¨å·¥å…·æ¨è
<a class=anchor href=#6-%e5%b8%b8%e7%94%a8%e5%b7%a5%e5%85%b7%e6%8e%a8%e8%8d%90>#</a></h2><table><thead><tr><th>å·¥å…·</th><th>ç”¨é€”</th><th>å®˜ç½‘</th></tr></thead><tbody><tr><td>Kubectl</td><td>Kubernetes CLI</td><td><a href=https://kubernetes.io/docs/reference/kubectl/>https://kubernetes.io/docs/reference/kubectl/</a></td></tr><tr><td>K9s</td><td>Kubernetes ç»ˆç«¯ç®¡ç†å·¥å…·</td><td><a href=https://k9scli.io/>https://k9scli.io/</a></td></tr><tr><td>Lens</td><td>Kubernetes å¯è§†åŒ–ç®¡ç†</td><td><a href=https://k8slens.dev/>https://k8slens.dev/</a></td></tr><tr><td>Prometheus</td><td>ç›‘æ§</td><td><a href=https://prometheus.io/>https://prometheus.io/</a></td></tr><tr><td>Grafana</td><td>å¯è§†åŒ–</td><td><a href=https://grafana.com/>https://grafana.com/</a></td></tr><tr><td>Fluent Bit</td><td>æ—¥å¿—æ”¶é›†</td><td><a href=https://fluentbit.io/>https://fluentbit.io/</a></td></tr><tr><td>Helm</td><td>Kubernetes åŒ…ç®¡ç†</td><td><a href=https://helm.sh/>https://helm.sh/</a></td></tr><tr><td>ArgoCD</td><td>GitOps æŒç»­äº¤ä»˜</td><td><a href=https://argo-cd.readthedocs.io/>https://argo-cd.readthedocs.io/</a></td></tr><tr><td>Istio</td><td>Service Mesh</td><td><a href=https://istio.io/>https://istio.io/</a></td></tr><tr><td>Chaos Mesh</td><td>æ··æ²Œå·¥ç¨‹</td><td><a href=https://chaos-mesh.org/>https://chaos-mesh.org/</a></td></tr><tr><td>Kustomize</td><td>Kubernetes èµ„æºç®¡ç†</td><td><a href=https://kustomize.io/>https://kustomize.io/</a></td></tr></tbody></table><hr><h2 id=7-kubernetes-è¿ç»´æœ€ä½³å®è·µ>7. Kubernetes è¿ç»´æœ€ä½³å®è·µ
<a class=anchor href=#7-kubernetes-%e8%bf%90%e7%bb%b4%e6%9c%80%e4%bd%b3%e5%ae%9e%e8%b7%b5>#</a></h2><h3 id=71-èµ„æºä¼˜åŒ–>7.1 èµ„æºä¼˜åŒ–
<a class=anchor href=#71-%e8%b5%84%e6%ba%90%e4%bc%98%e5%8c%96>#</a></h3><ul><li>åˆç†è®¾ç½® Requests & Limits</li><li>ä½¿ç”¨ HPA/VPA è¿›è¡Œè‡ªåŠ¨æ‰©å±•</li><li>åˆç†é€‰æ‹© Pod äº²å’Œæ€§å’Œè°ƒåº¦ç­–ç•¥</li></ul><h3 id=72-å®‰å…¨ç®¡ç†>7.2 å®‰å…¨ç®¡ç†
<a class=anchor href=#72-%e5%ae%89%e5%85%a8%e7%ae%a1%e7%90%86>#</a></h3><ul><li>æœ€å°æƒé™ RBAC é…ç½®</li><li>å¯ç”¨ NetworkPolicy è¿›è¡Œç½‘ç»œéš”ç¦»</li><li>é¿å…ä½¿ç”¨ root ç”¨æˆ·è¿è¡Œå®¹å™¨</li></ul><h3 id=73-æ—¥å¿—ä¸ç›‘æ§>7.3 æ—¥å¿—ä¸ç›‘æ§
<a class=anchor href=#73-%e6%97%a5%e5%bf%97%e4%b8%8e%e7%9b%91%e6%8e%a7>#</a></h3><ul><li>EFK/Loki è¿›è¡Œæ—¥å¿—é‡‡é›†</li><li>Prometheus + Grafana è¿›è¡Œç›‘æ§</li><li>OpenTelemetry è¿›è¡Œé“¾è·¯è¿½è¸ª</li></ul><h3 id=74-å¤‡ä»½ä¸æ¢å¤>7.4 å¤‡ä»½ä¸æ¢å¤
<a class=anchor href=#74-%e5%a4%87%e4%bb%bd%e4%b8%8e%e6%81%a2%e5%a4%8d>#</a></h3><ul><li>å®šæœŸå¤‡ä»½ etcd</li><li>ä½¿ç”¨ Velero å¤‡ä»½ PVC æ•°æ®</li><li>ç¡®ä¿ CI/CD å˜æ›´å¯å›æ»š</li></ul><h3 id=75-é«˜å¯ç”¨>7.5 é«˜å¯ç”¨
<a class=anchor href=#75-%e9%ab%98%e5%8f%af%e7%94%a8>#</a></h3><ul><li>å¤š Master èŠ‚ç‚¹ + Keepalived + HAProxy</li><li>ä½¿ç”¨ StatefulSet ç®¡ç†æœ‰çŠ¶æ€åº”ç”¨</li><li>å­˜å‚¨é€‰å‹ï¼ˆCeph, NFS, Longhornï¼‰</li></ul><hr><h2 id=8-æ¨èå­¦ä¹ ç½‘ç«™>8. æ¨èå­¦ä¹ ç½‘ç«™
<a class=anchor href=#8-%e6%8e%a8%e8%8d%90%e5%ad%a6%e4%b9%a0%e7%bd%91%e7%ab%99>#</a></h2><table><thead><tr><th>ç½‘ç«™</th><th>å†…å®¹</th><th>é“¾æ¥</th></tr></thead><tbody><tr><td>Kubernetes å®˜æ–¹æ–‡æ¡£</td><td>Kubernetes å®˜æ–¹æ•™ç¨‹</td><td><a href=https://kubernetes.io/docs>https://kubernetes.io/docs</a></td></tr><tr><td>Learn Kubernetes</td><td>æ·±å…¥ Kubernetes</td><td><a href=https://learnk8s.io/>https://learnk8s.io/</a></td></tr><tr><td>Prometheus æ–‡æ¡£</td><td>ç›‘æ§ç³»ç»Ÿæ•™ç¨‹</td><td><a href=https://prometheus.io/docs/>https://prometheus.io/docs/</a></td></tr><tr><td>Istio å®˜æ–¹æ–‡æ¡£</td><td>Service Mesh æ•™ç¨‹</td><td><a href=https://istio.io/latest/docs/>https://istio.io/latest/docs/</a></td></tr><tr><td>ArgoCD å®˜æ–¹æ–‡æ¡£</td><td>GitOps æŒç»­äº¤ä»˜</td><td><a href=https://argo-cd.readthedocs.io/>https://argo-cd.readthedocs.io/</a></td></tr></tbody></table><hr><h2 id=æ€»ç»“>æ€»ç»“
<a class=anchor href=#%e6%80%bb%e7%bb%93>#</a></h2><p>æ–‡æ¡£æ¶µç›–äº† Kubernetes è¿ç»´çš„æ–¹æ–¹é¢é¢ï¼ŒåŒ…æ‹¬åŸºç¡€çŸ¥è¯†ã€è¿ç»´ç®¡ç†ã€é«˜çº§è¿ç»´ã€æœ€ä½³å®è·µå’Œå·¥å…·æ¨èã€‚ä½ å¯ä»¥æ ¹æ®éœ€æ±‚é‡ç‚¹å­¦ä¹ æŸäº›ç« èŠ‚ï¼Œå¹¶ç»“åˆå®è·µæ“ä½œã€‚</p><hr><p><a href=/kubernetes/binary-build-k8s-04-deploy-worker/>Â« äºŒè¿›åˆ¶æ­å»º K8s - 4 éƒ¨ç½² Node</a></p><p><a href=/kubernetes/cloud-native-understood/>Â» Kubernetes 0-1 å°è¯•ç†è§£äº‘åŸç”Ÿ</a></p></article><footer class=book-footer><div class="flex flex-wrap justify-between"><div><a class="flex align-center" href=https://github.com/poneding/blog/commit/7c864072764ba82a52e7cd4e394e44a039930a43 title='æœ€åä¿®æ”¹è€… poneding | 2025/02/14' target=_blank rel=noopener><img src=/svg/calendar.svg class=book-icon alt>
<span>2025/02/14</span></a></div><div><a class="flex align-center" href=https://github.com/poneding/blog/edit/master/content/kubernetes/cloud-native-devops.md target=_blank rel=noopener><img src=/svg/edit.svg class=book-icon alt>
<span>ç¼–è¾‘æœ¬é¡µ</span></a></div></div><script>(function(){function e(e){const t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}document.querySelectorAll("pre code").forEach(t=>{t.addEventListener("click",function(){if(window.getSelection().toString())return;e(t.parentElement),navigator.clipboard&&navigator.clipboard.writeText(t.parentElement.textContent)})})})()</script></footer><div class=book-comments><script src=https://giscus.app/client.js data-repo=poneding/blog data-repo-id=R_kgDOMITIHg data-category=General data-category-id=DIC_kwDOMITIHs4CgB4x data-mapping=url data-strict=0 data-reactions-enabled=1 data-emit-metadata=0 data-input-position=top data-theme=preferred_color_scheme data-lang=zh-CN data-loading=lazy crossorigin=anonymous async></script></div><label for=menu-control class="hidden book-menu-overlay"></label></div><aside class=book-toc><div class=book-toc-content><nav id=TableOfContents><ul><li><a href=#1-å®¹å™¨åŸºç¡€>1. å®¹å™¨åŸºç¡€</a><ul><li><a href=#11-å®¹å™¨æ¦‚è¿°>1.1 å®¹å™¨æ¦‚è¿°</a></li><li><a href=#12-å®¹å™¨è¿è¡Œæ—¶>1.2 å®¹å™¨è¿è¡Œæ—¶</a></li><li><a href=#13-å®¹å™¨ç½‘ç»œ>1.3 å®¹å™¨ç½‘ç»œ</a></li><li><a href=#14-å®¹å™¨å­˜å‚¨>1.4 å®¹å™¨å­˜å‚¨</a></li></ul></li><li><a href=#2-kubernetes-è¿è¡ŒåŸºç¡€>2. Kubernetes è¿è¡ŒåŸºç¡€</a><ul><li><a href=#21-æ ¸å¿ƒç»„ä»¶>2.1 æ ¸å¿ƒç»„ä»¶</a></li><li><a href=#22-èµ„æºç®¡ç†>2.2 èµ„æºç®¡ç†</a></li><li><a href=#23-å­˜å‚¨ç®¡ç†>2.3 å­˜å‚¨ç®¡ç†</a></li><li><a href=#24-ç½‘ç»œç®¡ç†>2.4 ç½‘ç»œç®¡ç†</a></li></ul></li><li><a href=#3-kubernetes-è¿ç»´ç®¡ç†>3. Kubernetes è¿ç»´ç®¡ç†</a><ul><li><a href=#31-é›†ç¾¤å®‰è£…ä¸é…ç½®>3.1 é›†ç¾¤å®‰è£…ä¸é…ç½®</a></li><li><a href=#32-ç›‘æ§ä¸æ—¥å¿—>3.2 ç›‘æ§ä¸æ—¥å¿—</a></li><li><a href=#33-èµ„æºè°ƒä¼˜>3.3 èµ„æºè°ƒä¼˜</a></li></ul></li><li><a href=#4-kubernetes-é«˜çº§è¿ç»´>4. Kubernetes é«˜çº§è¿ç»´</a><ul><li><a href=#41-kubernetes-å®‰å…¨>4.1 Kubernetes å®‰å…¨</a></li><li><a href=#42-å¤‡ä»½ä¸æ¢å¤>4.2 å¤‡ä»½ä¸æ¢å¤</a></li><li><a href=#43-æ•…éšœæ’æŸ¥>4.3 æ•…éšœæ’æŸ¥</a></li></ul></li><li><a href=#5-è¿›é˜¶å·¥å…·ä¸å®è·µ>5. è¿›é˜¶å·¥å…·ä¸å®è·µ</a><ul><li><a href=#51-kubernetes-cicd>5.1 Kubernetes CI/CD</a></li><li><a href=#52-èµ„æºç®¡ç†å·¥å…·>5.2 èµ„æºç®¡ç†å·¥å…·</a></li><li><a href=#53-æ··æ²Œå·¥ç¨‹>5.3 æ··æ²Œå·¥ç¨‹</a></li></ul></li><li><a href=#6-å¸¸ç”¨å·¥å…·æ¨è>6. å¸¸ç”¨å·¥å…·æ¨è</a></li><li><a href=#7-kubernetes-è¿ç»´æœ€ä½³å®è·µ>7. Kubernetes è¿ç»´æœ€ä½³å®è·µ</a><ul><li><a href=#71-èµ„æºä¼˜åŒ–>7.1 èµ„æºä¼˜åŒ–</a></li><li><a href=#72-å®‰å…¨ç®¡ç†>7.2 å®‰å…¨ç®¡ç†</a></li><li><a href=#73-æ—¥å¿—ä¸ç›‘æ§>7.3 æ—¥å¿—ä¸ç›‘æ§</a></li><li><a href=#74-å¤‡ä»½ä¸æ¢å¤>7.4 å¤‡ä»½ä¸æ¢å¤</a></li><li><a href=#75-é«˜å¯ç”¨>7.5 é«˜å¯ç”¨</a></li></ul></li><li><a href=#8-æ¨èå­¦ä¹ ç½‘ç«™>8. æ¨èå­¦ä¹ ç½‘ç«™</a></li><li><a href=#æ€»ç»“>æ€»ç»“</a></li></ul></nav></div></aside></main></body></html>