[ğŸ  é¦–é¡µ](../_index.md) / [Istio](_index.md) / ä½¿ç”¨ Istio å®ç°æœåŠ¡è¶…æ—¶

# ä½¿ç”¨ Istio å®ç°æœåŠ¡è¶…æ—¶

## å‚è€ƒ

- <https://www.servicemesher.com/blog/circuit-breaking-and-outlier-detection-in-istio/>

## è¶…æ—¶

ä¸ºäº†é˜²æ­¢æ— é™æœŸçš„ç­‰å¾…æœåŠ¡ï¼Œä¸€èˆ¬éƒ½ä¼šç»™æœåŠ¡è®¾ç½®è¶…æ—¶æ—¶é—´ï¼ŒAWS çš„ LoadBalancer é»˜è®¤çš„è¶…æ—¶æ—¶é—´æ˜¯ 60sã€‚ä½†æ˜¯ä¸åŒçš„æœåŠ¡ï¼Œå¯èƒ½éœ€è¦ä¸åŒçš„è¶…æ—¶è®¾ç½®ï¼Œä¾‹å¦‚ DocumentApi è¶…æ—¶æ—¶é—´å¯èƒ½éœ€è¦è®¾ç½®çš„é•¿ä¸€ç‚¹ã€‚

LoadBalancer çš„è¶…æ—¶æ˜¯å…¨å±€çš„ï¼Œæˆ‘ä»¬åŸºäº Istio æœåŠ¡ç½‘æ ¼é›†æˆäº†é’ˆå¯¹å•ä¸ªæœåŠ¡çš„è¶…æ—¶åŠŸèƒ½ã€‚

## é‡è¯•

é‡è¯•ä¹Ÿæ˜¯ä¸€ä¸ªæœåŠ¡å¾ˆå¸¸ç”¨çš„åŠŸèƒ½ï¼Œä¾‹å¦‚æŸæ¬¡è¯·æ±‚åˆ†é…åˆ°äº†ä¸€ä¸ªé—®é¢˜èŠ‚ç‚¹ï¼Œè¯·æ±‚å¤±è´¥ï¼Œåˆ™è‡ªåŠ¨é‡è¯•ç‰¹å®šæ¬¡æ•°ã€‚

## ç†”æ–­/é™æµ

ä¸ºäº†é˜²æ­¢å¤§é‡æ¶Œå…¥è¯·æ±‚ä½¿å¾—æœåŠ¡å´©æºƒï¼Œå¼•å…¥ç†”æ–­åŠŸèƒ½ã€‚ç†”æ–­ï¼Œå¯ä»¥é™åˆ¶å½“å‰è¯·æ±‚è¿æ¥æ•°åœ¨ä¸€ä¸ªç‰¹å®šèŒƒå›´å†…ã€‚

é…ç½®æœåŠ¡ VirtualService æ—¢å¯å®ç°ï¼š

```yaml
apiVersion: networking.istio.io/v1beta1
kind: VirtualService
metadata:
  name: myapp
spec:
  hosts:
  - myapp
  http:
  - route:
    - destination:
        host: myapp
        subset: v1
    timeout: 1s
```

> timeoutï¼šè¯·æ±‚è¶…è¿‡è®¾å®šçš„è¶…æ—¶æ—¶é—´ï¼Œå“åº”è¿”å› 504 è¯·æ±‚è¶…æ—¶ã€‚

---
[Â« Istio 0-1 ä½¿ç”¨Istioå®ç°Cors](istio-cors.md)

[Â» åº”ç”¨å±‚çº§è®¾ç½®è®¿é—®ç™½åå•](istio-white-manifest.md)
