<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>ç§‹æ²³è½å¶</title><link>https://blog.pding.top/middleware/</link><description>Recent content on ç§‹æ²³è½å¶</description><generator>Hugo</generator><language>cn</language><atom:link href="https://blog.pding.top/middleware/index.xml" rel="self" type="application/rss+xml"/><item><title/><link>https://blog.pding.top/middleware/elasticsearch/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://blog.pding.top/middleware/elasticsearch/</guid><description>ğŸ  é¦–é¡µ / æ•°æ®ä¸­é—´ä»¶ / Elasticsearch
Elasticsearch # å…¨æ–‡æœç´¢
API # é¢˜å¤–è¯ï¼š
å¹‚ç­‰æ€§ï¼šå¤šæ¬¡æ‰§è¡ŒåŒæ ·çš„è¯·æ±‚ï¼Œèµ„æºåªèƒ½åˆ›å»ºæˆ–ä¿®æ”¹ä¸€æ¬¡
POST è¯·æ±‚ä¸æ˜¯å¹‚ç­‰æ€§çš„ï¼ŒåŒæ ·çš„æ•°æ®è¯·æ±‚ï¼Œä¼šé€ æˆä¸åŒçš„å½±å“
PUT æ˜¯å¹‚ç­‰æ€§çš„ï¼ŒåŒæ ·çš„è¯·æ±‚é€ æˆçš„å½±å“æ˜¯ä¸€æ ·çš„
åˆ›å»ºç´¢å¼• # PUT /users æŸ¥è¯¢ç´¢å¼• # è·å–å•ä¸ªç´¢å¼•
GET /users è·å–æ‰€æœ‰ç´¢å¼•
GET /_cat/indices?v åˆ é™¤ç´¢å¼• # DELETE /users åˆ›å»ºæ–‡æ¡£ # è¿™ä¸ªæ“ä½œæ˜¯åœ¨å•ä¸ªç´¢å¼•ä¸‹çš„
POST /users/_doc # ä¸€å®šéœ€è¦bodyï¼Œå¦åˆ™æŠ¥é”™ body: { &amp;#34;name&amp;#34;: &amp;#34;dp&amp;#34;, &amp;#34;age&amp;#34;: 18 } ä¸Šé¢è¿™ä¸ªæ–‡æ¡£åˆ›å»ºæ—¶ä¼šç”Ÿæˆéšæœº IDï¼ˆè¿”å›ç»“æœä¸­çš„ _idï¼‰ï¼Œä¸ä¾¿ç»´æŠ¤ï¼Œä½¿ç”¨ä¸‹é¢çš„æ–¹æ³•è‡ªå®šä¹‰æ–‡æ¡£ IDï¼Œæ­¤æ—¶ç”±äº ID è‡ªå®šä¹‰äº†ï¼Œå°±è¦æ±‚å¹‚ç­‰ï¼Œæ‰€ä»¥å¯ä»¥ä½¿ç”¨ PUT æ–¹æ³•
POST | PUT /users/_doc/1002 PUT /users/_create/1003 # ä¸€å®šéœ€è¦bodyï¼Œå¦åˆ™æŠ¥é”™ body: { &amp;#34;name&amp;#34;: &amp;#34;dp&amp;#34;, &amp;#34;age&amp;#34;: 18 } æŸ¥è¯¢æ–‡æ¡£ # è·å–å•ä¸ªæ–‡æ¡£</description></item><item><title/><link>https://blog.pding.top/middleware/mongodb/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://blog.pding.top/middleware/mongodb/</guid><description>ğŸ  é¦–é¡µ / æ•°æ®ä¸­é—´ä»¶ / MongoDB
MongoDB # èµ„æ–™ # http://cw.hubwiz.com/card/c/543b2f3cf86387171814c026/1/1/1/ http://cw.hubwiz.com/card/c/5438c259032c7817c40298b5/1/1/1/ å®‰è£… # æŒ‰ç…§å®˜ç½‘ç»™å‡ºçš„æŒ‡å—åœ¨ ubuntu ç³»ç»Ÿå®‰è£… mongodï¼Œå‚è€ƒ https://docs.mongodb.com/manual/tutorial/install-mongodb-on-ubuntu/
éªŒè¯ mongo æ˜¯å¦å®‰è£…æˆåŠŸï¼šè¿›å…¥ ubuntu shell çª—å£ï¼Œç›´æ¥è¾“å…¥
mongo --version çª—å£æ­£å¸¸è¾“å‡º mongo ç‰ˆæœ¬å°±è¯´æ˜ mongo å®‰è£…æˆåŠŸ
å¯åŠ¨ mongo æœåŠ¡
sudo systemctl statt mongod #/stop/restart åˆ›å»º dba ç”¨æˆ·å¹¶æ·»åŠ æƒé™éªŒè¯
mongodb æ²¡æœ‰å¼€å¯æƒé™éªŒè¯ä¹‹å‰ï¼Œä½¿ç”¨ mongo å‘½ä»¤å¯ä»¥ç›´æ¥è¿æ¥æœ¬åœ° mongodbï¼›
sudo mongo ä½¿ç”¨ db.createUser å‘½ä»¤åˆ›å»º dba ç”¨æˆ·,ä¸º dba ç”¨æˆ·æ·»åŠ æ‰€æœ‰ database çš„ç®¡ç†å‘˜æƒé™ï¼›
&amp;gt; db.createUser({user:&amp;#34;dba&amp;#34;,pwd:&amp;#34;[your pass]&amp;#34;,roles:[ {role:&amp;#34;readWriteAnyDatabase&amp;#34;,db:&amp;#34;admin&amp;#34;},{role:&amp;#34;dbAdminAnyDatabase&amp;#34;,db:&amp;#34;admin&amp;#34;},{role:&amp;#34;userAdminAnyDatabase&amp;#34;,db:&amp;#34;admin&amp;#34;},{role:&amp;#34;clusterAdmin&amp;#34;,db:&amp;#34;admin&amp;#34;},{role:&amp;#34;restore&amp;#34;,db:&amp;#34;admin&amp;#34;},{role:&amp;#34;backup&amp;#34;,db:&amp;#34;admin&amp;#34;} ]}) Successfully added user: { &amp;#34;user&amp;#34; : &amp;#34;dba&amp;#34;, &amp;#34;roles&amp;#34; : [ // .</description></item><item><title/><link>https://blog.pding.top/middleware/mysql/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://blog.pding.top/middleware/mysql/</guid><description>ğŸ  é¦–é¡µ / æ•°æ®ä¸­é—´ä»¶ / MySQL
MySQL # å®‰è£… # Windows å®‰è£… MySQL # ä¸‹è½½ Mysql å®‰è£…åŒ…ï¼š https://dev.mysql.com/downloads/installer/
ä¸‹è½½å®Œæˆåï¼ŒåŒå‡» msi æ–‡ä»¶å®‰è£…ã€‚
Ubuntu å®‰è£… MySQL # sudo apt update sudo apt install mysql-server -y # åªå®‰è£… mysql å®¢æˆ·ç«¯ sudo apt install mysql-client -y Docker å®‰è£… MySQL # docker run -d --name mysql -p 3306:3306 -e MYSQL_ROOT_PASSWORD=123456 mysql:5.7 Troubleshooting # Q1. root ç”¨æˆ·æœ¬åœ°ç™»å½• # ä½¿ç”¨å‘½ä»¤ mysql -u root -pï¼Œè¾“å…¥å¯†ç åç™»å½•å¤±è´¥ï¼Œæç¤ºå¦‚ä¸‹ï¼š
Access denied for user &amp;#39;root&amp;#39;@&amp;#39;localhost&amp;#39; è§£å†³æ–¹æ¡ˆï¼šï¼š</description></item><item><title/><link>https://blog.pding.top/middleware/postgres/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://blog.pding.top/middleware/postgres/</guid><description>ğŸ  é¦–é¡µ / æ•°æ®ä¸­é—´ä»¶ / Postgres
Postgres # è‡ªå¢ Id æ•°æ®æ’å…¥æƒé™
GRANT USAGE, SELECT, UPDATE ON ALL SEQUENCES IN SCHEMA public TO &amp;lt;user_name&amp;gt;; ä¿®æ”¹ç”¨æˆ·å¯†ç 
alter user postgres with password &amp;#39;admin123&amp;#39;; Â« MySQL
Â» Redis</description></item><item><title/><link>https://blog.pding.top/middleware/redis/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://blog.pding.top/middleware/redis/</guid><description>ğŸ  é¦–é¡µ / æ•°æ®ä¸­é—´ä»¶ / Redis
Redis # å®‰è£… # Docker å®‰è£… redis # sudo docker run --name redis-01 \ -p 2501:6379 \ -v /home/dp/apps/redis/redis-01/conf/redis.conf:/etc/redis/redis.conf \ -v /home/dp/apps/redis/redis-01/data:/data \ -d \ redis:6.0 redis-server /etc/redis/redis.conf --appendonly yes redis.conf æ˜¯é…ç½®æ–‡ä»¶ redis-server /etc/redis/redis.confï¼Œå¯ç”¨é…ç½®ï¼Œå¦‚æœæ²¡æœ‰ redis-server åˆ™ redis é»˜è®¤æ˜¯æ— é…ç½®å¯åŠ¨ &amp;ndash;appendonly yes å¯ç”¨æ•°æ®æŒä¹…åŒ– redis.conf å‚ç…§ï¼š
bind 127.0.0.1 # æ³¨é‡Šæ‰è¿™éƒ¨åˆ†ï¼Œä½¿ redis å¯ä»¥å¤–éƒ¨è®¿é—® daemonize no # ç”¨å®ˆæŠ¤çº¿ç¨‹çš„æ–¹å¼å¯åŠ¨ requirepass your_pwd # ç»™ redis è®¾ç½®å¯†ç  appendonly yes # redis æŒä¹…åŒ–ã€€é»˜è®¤æ˜¯ no tcp-keepalive 300 # é˜²æ­¢å‡ºç°è¿œç¨‹ä¸»æœºå¼ºè¿«å…³é—­äº†ä¸€ä¸ªç°æœ‰çš„è¿æ¥çš„é”™è¯¯ é»˜è®¤æ˜¯ 300 Â« Postgres</description></item></channel></rss>