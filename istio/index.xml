<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>ç§‹æ²³è½å¶</title><link>https://blog.pding.top/istio/</link><description>Recent content on ç§‹æ²³è½å¶</description><generator>Hugo</generator><language>cn</language><atom:link href="https://blog.pding.top/istio/index.xml" rel="self" type="application/rss+xml"/><item><title/><link>https://blog.pding.top/istio/aws-acm-tls-management/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://blog.pding.top/istio/aws-acm-tls-management/</guid><description>ğŸ  é¦–é¡µ / Istio / ä½¿ç”¨ aws-acm ç®¡ç† tls å¯†é’¥å’Œè¯ä¹¦
ä½¿ç”¨ aws-acm ç®¡ç† tls å¯†é’¥å’Œè¯ä¹¦ # å‚è€ƒï¼š https://medium.com/faun/managing-tls-keys-and-certs-in-istio-using-amazons-acm-8ff9a0b99033
åœ¨Ingressgateway serviceçš„annotationä¸­æ·»åŠ :
kind: Service apiVersion: v1 metadata: name: my-ingressgateway namespace: istio-system labels: app: my-ingressgateway annotations: # external-dns.alpha.kubernetes.io/hostname: example.com service.beta.kubernetes.io/aws-load-balancer-backend-protocol: http service.beta.kubernetes.io/aws-load-balancer-connection-idle-timeout: &amp;#39;3600&amp;#39; service.beta.kubernetes.io/aws-load-balancer-ssl-cert: &amp;gt;- arn:aws:acm:ap-southeast-1:xxxxxxxxxxxx:certificate/xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx service.beta.kubernetes.io/aws-load-balancer-ssl-ports: https .... service.yaml:
apiVersion: v1 kind: Service metadata: name: demo-api labels: app: demop-api spec: ports: - name: http port: 80 targetPort: 80 selector: app: demo-api pod æ‰€åœ¨çš„ namespace éœ€è¦å¼€å¯ istio-injectionï¼Œä¾‹å¦‚ï¼škubectl label namespace default istio-injection=enabled</description></item><item><title/><link>https://blog.pding.top/istio/installation/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://blog.pding.top/istio/installation/</guid><description>ğŸ  é¦–é¡µ / Istio / å®‰è£… Istio
å®‰è£… Istio # å®‰è£…istioctl # Step 1 ä¸‹è½½ï¼š
ä»¥ä¸‹æ“ä½œæ­¥éª¤é»˜è®¤ä¼šå®‰è£…æœ€æ–°ç‰ˆ istioctlã€‚
curl -L https://istio.io/downloadIstio | sh - ä»¥ä¸Šå‘½ä»¤é»˜è®¤ä¼šå®‰è£…æœ€æ–°ç‰ˆ istioctlï¼Œå¦‚æœéœ€è¦å®‰è£…æŒ‡å®šç‰ˆæœ¬ä¾‹å¦‚ 1.6.8ï¼Œä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ã€‚
curl -L https://istio.io/downloadIstio | ISTIO_VERSION=1.6.8 TARGET_ARCH=x86_64 sh - Step 2 é…ç½®ï¼š
step 1ä¼šä¸‹è½½istioåŒ…ï¼Œç›®å½•istio-{ISTIO_VERSION}ï¼Œè¿›å…¥ç›®å½•
cd istio-{ISTIO_VERSION} æ‹·è´binç›®å½•ä¸‹çš„istioctläºŒè¿›åˆ¶æ–‡ä»¶åˆ°PATHç›®å½•ä¸‹ï¼š
cp bin/istio /usr/local/bin Â« ä½¿ç”¨ aws-acm ç®¡ç† tls å¯†é’¥å’Œè¯ä¹¦
Â» æˆæƒç­–ç•¥ Authorization Policy</description></item><item><title/><link>https://blog.pding.top/istio/istio-auth-policy/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://blog.pding.top/istio/istio-auth-policy/</guid><description>ğŸ  é¦–é¡µ / Istio / æˆæƒç­–ç•¥ Authorization Policy
æˆæƒç­–ç•¥ Authorization Policy # æˆæƒæ¶æ„ # ç”±äºæœåŠ¡ç½‘æ ¼çš„ Sidecar è®¾è®¡æ¨¡å¼ï¼Œæ¯ä¸ªå·¥ä½œè´Ÿè½½éƒ½ä¼šæœ‰ä¸€ä¸ª Envoy ä»£ç†ï¼Œè€Œæ¯ä¸ªä»£ç†éƒ½è¿è¡Œç€æˆæƒå¼•æ“ï¼Œä»¥æ­¤ç»™è¯·æ±‚æˆæƒã€‚æˆæƒå¼•æ“ä¾é æˆæƒç­–ç•¥æ¥é‰´å®šè¯·æ±‚æƒé™ï¼Œè¿”å› ALLOW æˆ– DENY é‰´æƒç»“æœã€‚
æˆæƒå¯ç”¨ # å°†æˆæƒç­–ç•¥åº”ç”¨åˆ°å·¥ä½œè´Ÿè½½å³ç”Ÿæ•ˆè®¿é—®æ§åˆ¶ã€‚å¯¹äºæ²¡æœ‰åº”ç”¨æˆæƒç­–ç•¥çš„å·¥ä½œè´Ÿè½½ï¼Œåˆ™ä¸ä¼šå¯¹è¯·æ±‚åšè®¿é—®æ§åˆ¶ã€‚
æˆæƒç­–ç•¥ # èµ„æºå®šä¹‰ # selectorï¼š
æ ‡ç­¾é€‰æ‹©å™¨ï¼Œé€šè¿‡æ ‡ç­¾é€‰æ‹©å™¨é€‰æ‹©åŒå‘½åç©ºé—´ä¸‹çš„ç›®æ ‡å·¥ä½œè´Ÿè½½ï¼Œå¯¹ç›®æ ‡å·¥ä½œè´Ÿè½½å¯ç”¨è®¿é—®æ§åˆ¶ã€‚
actionï¼š
å½“æ»¡è¶³rulesæ¡ä»¶æ—¶ï¼Œæ§åˆ¶ALLOWæˆ–DENYè¯·æ±‚ã€‚
rulesï¼š
è®¿é—®æ§åˆ¶çš„è¯·æ±‚æ¡ä»¶ï¼š
fromï¼šè¯·æ±‚æ¥æº toï¼šè¯·æ±‚ç›®æ ‡ whenï¼šåº”ç”¨è§„åˆ™æ‰€éœ€çš„æäº¤ ç¤ºä¾‹ # ä»¥ä¸‹æˆæƒç­–ç•¥å…è®¸ä¸¤ä¸ªæºï¼ˆæœåŠ¡å¸å· cluster.local/ns/default/sa/sleep å’Œå‘½åç©ºé—´ devï¼‰ï¼Œåœ¨ä½¿ç”¨æœ‰æ•ˆçš„ JWT ä»¤ç‰Œå‘é€è¯·æ±‚æ—¶ï¼Œå¯ä»¥è®¿é—®å‘½åç©ºé—´ foo ä¸­çš„å¸¦æœ‰æ ‡ç­¾ app: httpbin å’Œ version: v1 çš„å·¥ä½œè´Ÿè½½ã€‚
apiVersion: security.istio.io/v1beta1 kind: AuthorizationPolicy metadata: name: httpbin namespace: foo spec: selector: matchLabels: app: httpbin version: v1 action: ALLOW rules: - from: - source: principals: [&amp;#34;cluster.</description></item><item><title/><link>https://blog.pding.top/istio/istio-canary-deploy/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://blog.pding.top/istio/istio-canary-deploy/</guid><description>ğŸ  é¦–é¡µ / Istio / åº”ç”¨å¹³å°å®ç°åº”ç”¨é‡‘ä¸é›€å‘å¸ƒ
åº”ç”¨å¹³å°å®ç°åº”ç”¨é‡‘ä¸é›€å‘å¸ƒ # å®ç°æ€è·¯ # åº”ç”¨æ­£å¸¸çš„ CI æµç¨‹æ·»åŠ è¯·æ±‚å‚æ•°ï¼š
CanaryModeã€boolï¼Œtrue | falseï¼Œç¼ºçœå€¼ falseã€‘ CanaryWeight ã€intï¼Œç¼ºçœå€¼ 10ã€‘ ä½¿ç”¨ Istio çš„ DetinationRule + VirtualService å®ç°æµé‡æŒ‰æƒé‡åˆ†é…åˆ°ä¸åŒç‰ˆæœ¬åº”ç”¨ã€‚
æ¦‚å¿µ # Iterationï¼šå‘å¸ƒè¿­ä»£å·ï¼Œã€‚æ˜¯ä¸€ä¸ªå­—æ®µå€¼ï¼Œä½¿ç”¨é‡‘ä¸é›€å‘å¸ƒæ—¶ç´¯åŠ è¯¥å€¼ï¼Œä» 0 ç´¯åŠ ã€‚
Retractï¼šåŠ¨ä½œï¼Œå¼ƒç”¨é‡‘ä¸é›€ç‰ˆæœ¬ã€‚å½“é‡‘ä¸é›€ç‰ˆæœ¬å­˜åœ¨ä¸å¯å¿½è§†çš„é—®é¢˜æ—¶æ’¤å›é‡‘ä¸é›€æ‰§è¡Œè¯¥åŠ¨ä½œã€‚
Ratifyï¼šåŠ¨ä½œï¼Œç¡®è®¤ä½¿ç”¨é‡‘ä¸é›€ç‰ˆæœ¬ã€‚å½“é‡‘ä¸é›€ç‰ˆæœ¬ç¡®è®¤å¯ä»¥å…¨é¢æŠ•å…¥ä½¿ç”¨æ‰§è¡Œè¯¥åŠ¨ä½œã€‚
å‰æ # ä½¿ç”¨é‡‘ä¸é›€å‘å¸ƒçš„å‰ææ¡ä»¶ï¼š
åº”ç”¨å¤„äºå‘å¸ƒçŠ¶æ€ï¼Œå·²ç»è‡³å°‘å‘å¸ƒä¸€æ¬¡ï¼Œå½“å‰å­˜åœ¨ç¨³å®šçš„è¿è¡Œç‰ˆæœ¬ï¼› åº”ç”¨å·²ç»å¼€å¯ Istio Gatewayï¼Œæ¶‰åŠåˆ° VirtualService çš„æµé‡è½¬å‘ï¼› åº”ç”¨å½“å‰ä¸æ˜¯é‡‘ä¸é›€çŠ¶æ€ï¼Œè¦ä¸ç„¶ä¹±å¥—äº†ã€‚ å‘å¸ƒç»†èŠ‚ # CI å‘å¸ƒé™¤äº†åˆ›å»ºæˆ–æ›´æ–° Deploymentï¼ŒService ä¹‹å¤–ï¼Œé»˜è®¤åˆ›å»ºæˆ–æ›´æ–° istio çš„ DestinationRule èµ„æºï¼›
deploymentï¼š
apiVersion: apps/v1 kind: Deployment metadata: name: myapp-pbd3n69-v{iteration} # å‡ºäºå…¼å®¹å†å²å‘å¸ƒï¼Œå½“iterationä¸º0æ—¶ï¼Œnameä¸é™„å¸¦iterationï¼Œiterationå¤§äº0æ—¶ï¼Œnameå°†é™„å¸¦iteration labels: app: myapp-pbd3n69 version: v{iteration} spec: selector: matchLabels: app: myapp-pbd3n69 version: v{iteration} template: metadata: labels: app: myapp-pbd3n69 version: v{iteration} .</description></item><item><title/><link>https://blog.pding.top/istio/istio-cors/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://blog.pding.top/istio/istio-cors/</guid><description>ğŸ  é¦–é¡µ / Istio / Istio 0-1 ä½¿ç”¨Istioå®ç°Cors
Istio 0-1 ä½¿ç”¨Istioå®ç°Cors # Cors # Corsï¼ˆCross-Origin Resource Sharingï¼‰ï¼šè·¨åŸŸèµ„æºå…±äº«ï¼Œæ˜¯ä¸€ç§åŸºäº HTTP Header çš„æœºåˆ¶ï¼Œè¯¥æœºåˆ¶é€šè¿‡å…è®¸æœåŠ¡å™¨æ ‡ç¤ºé™¤äº†å®ƒè‡ªå·±ä»¥å¤–çš„å…¶å®ƒ originï¼ˆåŸŸï¼Œåè®®å’Œç«¯å£ï¼‰ï¼Œè¿™æ ·æµè§ˆå™¨å¯ä»¥è®¿é—®åŠ è½½è¿™äº›èµ„æºã€‚è·¨æºèµ„æºå…±äº«è¿˜é€šè¿‡ä¸€ç§æœºåˆ¶æ¥æ£€æŸ¥æœåŠ¡å™¨æ˜¯å¦ä¼šå…è®¸è¦å‘é€çš„çœŸå®è¯·æ±‚ï¼Œè¯¥æœºåˆ¶é€šè¿‡æµè§ˆå™¨å‘èµ·ä¸€ä¸ªåˆ°æœåŠ¡å™¨æ‰˜ç®¡çš„è·¨æºèµ„æºçš„&amp;quot;é¢„æ£€&amp;quot;è¯·æ±‚ã€‚åœ¨é¢„æ£€ä¸­ï¼Œæµè§ˆå™¨å‘é€çš„å¤´ä¸­æ ‡ç¤ºæœ‰ HTTP æ–¹æ³•å’ŒçœŸå®è¯·æ±‚ä¸­ä¼šç”¨åˆ°çš„å¤´ã€‚
è·¨æºHTTPè¯·æ±‚çš„ä¸€ä¸ªä¾‹å­ï¼šè¿è¡Œåœ¨ https://a.com çš„JavaScriptä»£ç ä½¿ç”¨ XMLHttpRequestæ¥å‘èµ·ä¸€ä¸ªåˆ° https://b.com/data.js çš„è¯·æ±‚ã€‚
å‡ºäºå®‰å…¨æ€§ï¼Œæµè§ˆå™¨é™åˆ¶è„šæœ¬å†…å‘èµ·çš„è·¨åŸŸ HTTP è¯·æ±‚ã€‚ ä¾‹å¦‚ï¼ŒXMLHttpRequest å’Œ Fetch API éµå¾ªåŒæºç­–ç•¥ã€‚ è¿™æ„å‘³ç€ä½¿ç”¨è¿™äº› API çš„ Web åº”ç”¨ç¨‹åºåªèƒ½ä»åŠ è½½åº”ç”¨ç¨‹åºçš„åŒä¸€ä¸ªåŸŸè¯·æ±‚ HTTP èµ„æºï¼Œé™¤éå“åº”æŠ¥æ–‡åŒ…å«äº†æ­£ç¡® CORS å“åº”å¤´ã€‚
æ›´å¤š Cors çŸ¥è¯†ï¼š è·¨åŸŸèµ„æºå…±äº«ï¼ˆCORSï¼‰
Istio å®ç° # åŸºäº Istio VirtualService çš„é…ç½®å®ç°ã€‚
å®˜æ–¹æ–‡æ¡£ï¼š Istio / Virtual Service#CorsPolicy
åœ¨ç›®æ ‡æœåŠ¡ä¸Šè®¾ç½®å…è®¸çš„è¯·æ±‚åŸŸ Helloï¼š
apiVersion: networking.istio.io/v1beta1 kind: VirtualService metadata: name: b spec: http: - route: - destination: host: b.</description></item><item><title/><link>https://blog.pding.top/istio/istio-timeout/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://blog.pding.top/istio/istio-timeout/</guid><description>ğŸ  é¦–é¡µ / Istio / ä½¿ç”¨ Istio å®ç°æœåŠ¡è¶…æ—¶
ä½¿ç”¨ Istio å®ç°æœåŠ¡è¶…æ—¶ # å‚è€ƒ # https://www.servicemesher.com/blog/circuit-breaking-and-outlier-detection-in-istio/ è¶…æ—¶ # ä¸ºäº†é˜²æ­¢æ— é™æœŸçš„ç­‰å¾…æœåŠ¡ï¼Œä¸€èˆ¬éƒ½ä¼šç»™æœåŠ¡è®¾ç½®è¶…æ—¶æ—¶é—´ï¼ŒAWS çš„ LoadBalancer é»˜è®¤çš„è¶…æ—¶æ—¶é—´æ˜¯ 60sã€‚ä½†æ˜¯ä¸åŒçš„æœåŠ¡ï¼Œå¯èƒ½éœ€è¦ä¸åŒçš„è¶…æ—¶è®¾ç½®ï¼Œä¾‹å¦‚ DocumentApi è¶…æ—¶æ—¶é—´å¯èƒ½éœ€è¦è®¾ç½®çš„é•¿ä¸€ç‚¹ã€‚
LoadBalancer çš„è¶…æ—¶æ˜¯å…¨å±€çš„ï¼Œæˆ‘ä»¬åŸºäº Istio æœåŠ¡ç½‘æ ¼é›†æˆäº†é’ˆå¯¹å•ä¸ªæœåŠ¡çš„è¶…æ—¶åŠŸèƒ½ã€‚
é‡è¯• # é‡è¯•ä¹Ÿæ˜¯ä¸€ä¸ªæœåŠ¡å¾ˆå¸¸ç”¨çš„åŠŸèƒ½ï¼Œä¾‹å¦‚æŸæ¬¡è¯·æ±‚åˆ†é…åˆ°äº†ä¸€ä¸ªé—®é¢˜èŠ‚ç‚¹ï¼Œè¯·æ±‚å¤±è´¥ï¼Œåˆ™è‡ªåŠ¨é‡è¯•ç‰¹å®šæ¬¡æ•°ã€‚
ç†”æ–­/é™æµ # ä¸ºäº†é˜²æ­¢å¤§é‡æ¶Œå…¥è¯·æ±‚ä½¿å¾—æœåŠ¡å´©æºƒï¼Œå¼•å…¥ç†”æ–­åŠŸèƒ½ã€‚ç†”æ–­ï¼Œå¯ä»¥é™åˆ¶å½“å‰è¯·æ±‚è¿æ¥æ•°åœ¨ä¸€ä¸ªç‰¹å®šèŒƒå›´å†…ã€‚
é…ç½®æœåŠ¡ VirtualService æ—¢å¯å®ç°ï¼š
apiVersion: networking.istio.io/v1beta1 kind: VirtualService metadata: name: myapp spec: hosts: - myapp http: - route: - destination: host: myapp subset: v1 timeout: 1s timeoutï¼šè¯·æ±‚è¶…è¿‡è®¾å®šçš„è¶…æ—¶æ—¶é—´ï¼Œå“åº”è¿”å› 504 è¯·æ±‚è¶…æ—¶ã€‚
Â« Istio 0-1 ä½¿ç”¨Istioå®ç°Cors
Â» åº”ç”¨å±‚çº§è®¾ç½®è®¿é—®ç™½åå•</description></item><item><title/><link>https://blog.pding.top/istio/istio-white-manifest/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://blog.pding.top/istio/istio-white-manifest/</guid><description>ğŸ  é¦–é¡µ / Istio / åº”ç”¨å±‚çº§è®¾ç½®è®¿é—®ç™½åå•
åº”ç”¨å±‚çº§è®¾ç½®è®¿é—®ç™½åå• # éœ€æ±‚ # ä¸¤ä¸ªåº”ç”¨ï¼Œfoo å’Œ barï¼Œåº”ç”¨ foo åªå…è®¸ IP åœ°å€ä¸º 1.2.3.4 è®¿é—®ï¼Œåº”ç”¨ bar åªå…è®¸ IP åœ°å€ä¸º 5.6.7.8 è®¿é—®ã€‚
å®ç° # åŸºäº istio çš„ AuthorizationPolicy å®ç°ã€‚
å‡è®¾ï¼Œç°åœ¨ K8s é›†ç¾¤ä¸­å·²ç»å®‰è£… istioï¼Œå¹¶ä¸”æœ‰ä¸€ä¸ªæ­£åœ¨è¿è¡Œç€çš„ istio-ingressgateway è½¬å‘åº”ç”¨ foo å’Œ barï¼š
é€šè¿‡ï¼š https://www.example.com/foo è®¿é—® foo;
é€šè¿‡ï¼š https://www.example.com/bar è®¿é—® bar;
æ’æ›² # æŒ‰ç…§ istio å®˜æ–¹æ–‡æ¡£ï¼Œä½¿ç”¨ AuthorizationPolicy å³å¯å®ç°åŸºäºåº”ç”¨å±‚çº§çš„è®¿é—®ç™½åå•è®¾ç½®ï¼š
apiVersion: security.istio.io/v1beta1 kind: AuthorizationPolicy metadata: name: foo spec: selector: matchLabels: app: foo action: ALLOW rules: - from: - source: ipBlocks: [&amp;#34;1.</description></item><item><title/><link>https://blog.pding.top/istio/Istio/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://blog.pding.top/istio/Istio/</guid><description>ğŸ  é¦–é¡µ / Istio / Istio
Istio # ç®€ä»‹ # Istioï¼Œæ˜¯ä¸€ç§æœåŠ¡ç½‘æ ¼çš„å¹³å°ã€‚åœ¨å¾®æœåŠ¡ç³»ç»Ÿä¸­èµ·ç€è¿æ¥ï¼Œä¿æŠ¤ï¼Œæ§åˆ¶å’Œè§‚å¯ŸæœåŠ¡çš„ä½œç”¨ã€‚å®ƒå¯ä»¥é™ä½å¾®æœåŠ¡éƒ¨ç½²çš„å¤æ‚ç¨‹åº¦ï¼Œå‡è½»å¼€å‘å›¢é˜Ÿå‹åŠ›ï¼Œæ— ç¼æ¥å…¥ç°æœ‰åˆ†å¸ƒå¼åº”ç”¨ç¨‹åºï¼Œå¯ä»¥é›†æˆæ—¥å¿—ï¼Œé¥æµ‹ï¼Œå’Œç­–ç•¥ç³»ç»Ÿçš„ API æ¥å£ã€‚
æœåŠ¡ç½‘æ ¼ï¼š
Service Mesh æ˜¯ä¸€ä¸ªåŸºç¡€è®¾æ–½å±‚ï¼Œç”¨äºå¤„ç†æœåŠ¡é—´é€šä¿¡ã€‚äº‘åŸç”Ÿåº”ç”¨æœ‰ç€å¤æ‚çš„æœåŠ¡æ‹“æ‰‘ï¼ŒService Mesh ä¿è¯è¯·æ±‚å¯ä»¥åœ¨è¿™äº›æ‹“æ‰‘ä¸­å¯é åœ°ç©¿æ¢­ã€‚åœ¨å®é™…åº”ç”¨å½“ä¸­ï¼ŒService Mesh é€šå¸¸æ˜¯ç”±ä¸€ç³»åˆ—è½»é‡çº§çš„ç½‘ç»œä»£ç†ç»„æˆçš„ï¼Œå®ƒä»¬ä¸åº”ç”¨ç¨‹åºéƒ¨ç½²åœ¨ä¸€èµ·ï¼Œä½†åº”ç”¨ç¨‹åºä¸éœ€è¦çŸ¥é“å®ƒä»¬çš„å­˜åœ¨ã€‚
ç”¨æ¥æè¿°ç»„æˆåº”ç”¨ç¨‹åºçš„å¾®æœåŠ¡ç½‘ç»œä»¥åŠå®ƒä»¬ä¹‹é—´çš„äº¤äº’ã€‚
å®ç°éœ€æ±‚åŒ…æ‹¬ï¼š
æœåŠ¡å‘ç° è´Ÿè½½å‡è¡¡ æ•…éšœæ¢å¤ æŒ‡æ ‡å’Œç›‘æ§ A/B æµ‹è¯• é‡‘ä¸é›€å‘å¸ƒ é€Ÿç‡æ§åˆ¶ è®¿é—®æ§åˆ¶ ç«¯åˆ°ç«¯è®¤è¯ istioctl # ç®¡ç† istio çš„å‘½ä»¤è¡Œå·¥å…·ã€‚
å®‰è£… # curl -L https://istio.io/downloadIstio | sh - cp istio-x.x.x /usr/local cd istio-x.x.x export PATH=$PWD/bin:$PATH Istio çš„ç»å¤§å¤šæ•°æ²»ç†èƒ½åŠ›éƒ½æ˜¯åœ¨ Sidecar è€Œéåº”ç”¨ç¨‹åºä¸­å®ç°ï¼Œå› æ­¤æ˜¯éä¾µå…¥çš„ï¼› Istio çš„è°ƒç”¨é“¾åŸ‹ç‚¹é€»è¾‘ä¹Ÿæ˜¯åœ¨ Sidecar ä»£ç†ä¸­å®Œæˆï¼Œå¯¹åº”ç”¨ç¨‹åºéä¾µå…¥ï¼Œä½†åº”ç”¨ç¨‹åºéœ€åšé€‚å½“çš„ä¿®æ”¹ï¼Œå³é…åˆåœ¨è¯·æ±‚å¤´ä¸Šä¼ é€’ç”Ÿæˆçš„ Trace ç›¸å…³ä¿¡æ¯ã€‚ å…³é”®åŠŸèƒ½ï¼š
æµé‡ç®¡ç† å¯è§‚å¯Ÿæ€§ ç­–ç•¥æ‰§è¡Œ æœåŠ¡èº«ä»½å’Œå®‰å…¨ å¹³å°æ”¯æŒ é›†æˆå’Œå®šåˆ¶ æ¶æ„ # æ•°æ®é¢æ¿ # Envoy # Envoy æ˜¯ç”¨ C++ å¼€å‘çš„é«˜æ€§èƒ½ä»£ç†ï¼Œç”¨äºåè°ƒæœåŠ¡ç½‘æ ¼ä¸­æ‰€æœ‰æœåŠ¡çš„å…¥ç«™å’Œå‡ºç«™æµé‡ã€‚Envoy ä»£ç†æ˜¯å”¯ä¸€ä¸æ•°æ®å¹³é¢æµé‡äº¤äº’çš„ Istio ç»„ä»¶ã€‚</description></item><item><title/><link>https://blog.pding.top/istio/tls-transform/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://blog.pding.top/istio/tls-transform/</guid><description>ğŸ  é¦–é¡µ / Istio / å®ç° Https åè®®çš„è½¬å‘
å®ç° Https åè®®çš„è½¬å‘ # apiVersion: networking.istio.io/v1beta1 kind: VirtualService metadata: name: demo spec: http: - headers: request: set: X-Forwarded-Proto: https match: - uri: prefix: / name: demo.default Â« åº”ç”¨å±‚çº§è®¾ç½®è®¿é—®ç™½åå•
Â» Istio 0-1 æµé‡ç®¡ç†æ–¹æ¡ˆ</description></item><item><title/><link>https://blog.pding.top/istio/traffic-management/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://blog.pding.top/istio/traffic-management/</guid><description>ğŸ  é¦–é¡µ / Istio / Istio 0-1 æµé‡ç®¡ç†æ–¹æ¡ˆ
Istio 0-1 æµé‡ç®¡ç†æ–¹æ¡ˆ # è®¾ç½® istio-system å‘½åç©ºé—´ä¸‹ istiod Deployment çš„ç¯å¢ƒå˜é‡ï¼š
PILOT_ENABLE_VIRTUAL_SERVICE_DELEGATE =trueï¼š
Â« å®ç° Https åè®®çš„è½¬å‘</description></item></channel></rss>