[ğŸ  é¦–é¡µ](../_index.md) / [Linux](_index.md) / shell åŸºç¡€

# shell åŸºç¡€

## shell æ³¨é‡Š

å•è¡Œæ³¨é‡Šï¼š

```shell
# æ³¨é‡Šå†…å®¹
```

å¤šè¡Œæ³¨é‡Šï¼š

```shell
:<<EOF
æ³¨é‡Šå†…å®¹
æ³¨é‡Šå†…å®¹
æ³¨é‡Šå†…å®¹
EOF
```

æˆ–

```shell
:<<!
æ³¨é‡Šå†…å®¹
æ³¨é‡Šå†…å®¹
æ³¨é‡Šå†…å®¹
!
```

æˆ–

```shell
:<<'
æ³¨é‡Šå†…å®¹
æ³¨é‡Šå†…å®¹
æ³¨é‡Šå†…å®¹
'
```

## shell å˜é‡

å®šä¹‰å˜é‡ï¼š

```shell
my_name="Ding Peng"
```

ä½¿ç”¨å˜é‡ï¼š

```shell
$my_name
${my_name}
```

åªè¯»å˜é‡ï¼š

```shell
my_name="Ding Peng"
readonly my_name 
```

åˆ é™¤å˜é‡ï¼š

```shell
unset my_name
```

å˜é‡ç±»å‹ï¼š

> 1. å±€éƒ¨å˜é‡ï¼šåœ¨è„šæœ¬æˆ–å‘½ä»¤ä¸­å®šä¹‰ï¼Œä»…åœ¨å½“å‰shellå®ä¾‹æœ‰æ•ˆ
> 2. ç¯å¢ƒå˜é‡ï¼šæ‰€æœ‰shellå®ä¾‹æœ‰æ•ˆ
> 3. shellå˜é‡ï¼šshellç¨‹åºè®¾ç½®çš„ç‰¹æ®Šå˜é‡

## shell å­—ç¬¦ä¸²

> å•å¼•å·ä¸åŒå¼•å·çš„åŒºåˆ«ï¼š
>
> 1. å•å¼•å·é‡Œçš„ä»»ä½•å­—ç¬¦éƒ½ä¼šåŸæ ·è¾“å‡ºï¼Œå•å¼•å·å­—ç¬¦ä¸²ä¸­çš„å˜é‡æ˜¯æ— æ•ˆçš„ï¼›
> 2. å•å¼•å·å­—ä¸²ä¸­ä¸èƒ½å‡ºç°å•ç‹¬ä¸€ä¸ªçš„å•å¼•å·ï¼ˆå¯¹å•å¼•å·ä½¿ç”¨è½¬ä¹‰ç¬¦åä¹Ÿä¸è¡Œï¼‰ï¼Œä½†å¯æˆå¯¹å‡ºç°ï¼Œä½œä¸ºå­—ç¬¦ä¸²æ‹¼æ¥ä½¿ç”¨ï¼›
> 3. åŒå¼•å·é‡Œå¯ä»¥æœ‰å˜é‡ï¼›
> 4. åŒå¼•å·é‡Œå¯ä»¥å‡ºç°è½¬ä¹‰å­—ç¬¦

```shell
my_name="Ding Peng"
hello_string="Hllo,\"$my_name\"!"
echo $hello_string
```

è·å–å­—ç¬¦ä¸²é•¿åº¦ï¼š

```shell
my_name="dp"
echo ${#my_name} # è¾“å‡º5
```

æˆªå–å­—ç¬¦ä¸²ï¼š

```shell
hello_world="Hello World!"

# ä»index 1æˆªå–4ä¸ªå­—ç¬¦
echo ${hello_world:1:4}  # è¾“å‡ºello
```

## shell æ•°ç»„

> åªæœ‰ä»¥ä¸ºæ•°ç»„ï¼Œæ²¡æœ‰å¤šç»´æ•°ç»„

```shell
# å®šä¹‰æ•°ç»„ï¼Œç©ºæ ¼éš”å¼€
names=('Ding Peng' 'Jay Chou' "Lebron James")

# è·å–æ•°ç»„å…ƒç´ ï¼Œæ ¹æ®indexè·å–
echo ${names[1]}

# è·å–æ•°ç»„é•¿åº¦
echo ${#names[@]}
echo ${#names[*]}
```

## shell ä¼ å‚

æ‰§è¡Œshellè„šæœ¬æ–‡ä»¶æ—¶ï¼Œä¼ é€’å‚æ•°

å‡å¦‚æœ‰ä¸€ä¸ªtest.shæ–‡ä»¶å†…å®¹å¦‚ä¸‹ï¼š

```shell
#!/bin/bash

echo "Shell ä¼ é€’å‚æ•°å®ä¾‹ï¼";

# ä½¿ç”¨$næ¥æ”¶å‚æ•°
echo "æ‰§è¡Œçš„æ–‡ä»¶åï¼š$0";
echo "ç¬¬ä¸€ä¸ªå‚æ•°ä¸ºï¼š$1";
echo "ç¬¬äºŒä¸ªå‚æ•°ä¸ºï¼š$2";
```

```shell
chmod +x test.sh
./test.sh 1 2 
```

> ç¬¬ä¸€è¡Œå‘½ä»¤ç»™test.shæ·»åŠ å¯æ‰§è¡Œæƒé™
>
> ç¬¬äºŒè¡Œå‘½ä»¤æ‰§è¡Œtest.shæ–‡ä»¶
>
> ä»¥ä¸Šå‘½ä»¤å°†è¾“å‡ºï¼š
>
> ```shell
> Shell ä¼ é€’å‚æ•°å®ä¾‹ï¼
> æ‰§è¡Œçš„æ–‡ä»¶åï¼š./test.sh
> ç¬¬ä¸€ä¸ªå‚æ•°ä¸ºï¼š1
> ç¬¬äºŒä¸ªå‚æ•°ä¸ºï¼š2
> ```

å…¶ä»–å‚æ•°å¤„ç†ï¼š

| å‚æ•° | è¯´æ˜                                                 |
| ---- | ---------------------------------------------------- |
| $#   | ä¼ é€’åˆ°è„šæœ¬çš„å‚æ•°ä¸ªæ•°                                 |
| $*   | ä»¥ä¸€ä¸ªå•å­—ç¬¦ä¸²æ˜¾ç¤ºæ‰€æœ‰å‘è„šæœ¬ä¼ é€’çš„å‚æ•°               |
| $$   | è„šæœ¬è¿è¡Œçš„å½“å‰è¿›ç¨‹IDå·                               |
| $@   | ä¸$*ç›¸åŒï¼Œä½†æ˜¯ä½¿ç”¨æ—¶åŠ å¼•å·ï¼Œå¹¶åœ¨å¼•å·ä¸­è¿”å›æ¯ä¸ªå‚æ•°ã€‚ |

## shell if æ§åˆ¶è¯­å¥

`if`  åé¢éœ€è¦æ¥è€… `then`ï¼š

```shell
if [ condition-for-test ]
then
  command
  ...
fi
```

æˆ–è€…ï¼Œ

```shell
if [ condition-for-test ]; then
  command
  ...
fi
```

å¦‚ï¼š

```shell
#!/bin/bash
 
VAR=myvar
if [ $VAR = myvar ]; then
    echo "1: \$VAR is $VAR"   # 1: $VAR is myvar
fi
if [ "$VAR" = myvar ]; then
    echo "2: \$VAR is $VAR"   # 2: $VAR is myvar
fi
if [ $VAR = "myvar" ]; then
    echo "3: \$VAR is $VAR"   # 3: $VAR is myvar
fi
if [ "$VAR" = "myvar" ]; then
    echo "4: \$VAR is $VAR"   # 4: $VAR is myvar
fi
```

ä¸Šé¢ï¼Œæˆ‘ä»¬åœ¨æ¯”è¾ƒæ—¶ï¼Œå¯ä»¥ç”¨åŒå¼•å·æŠŠå˜é‡å¼•ç”¨èµ·æ¥ã€‚

ä½†è¦æ³¨æ„å•å¼•å·çš„ä½¿ç”¨ã€‚

```shell
#!/bin/bash
VAR=myvar
if [ '$VAR' = 'myvar' ]; then
    echo '5a: $VAR is $VAR'
else
    echo "5b: Not equal."
fibas
# Output:
# 5b: Not equal.
```

ä¸Šé¢è¿™ä¸ªå°±æŠŠ  `'$VAR'`  å½“ä¸€ä¸ªå­—ç¬¦ä¸²äº†ã€‚

ä½†å¦‚æœå˜é‡æ˜¯å¤šä¸ªå•è¯ï¼Œæˆ‘ä»¬å°±å¿…é¡»ç”¨åˆ°åŒå¼•å·äº†ï¼Œå¦‚

```shell
#!/bin/bash

# è¿™æ ·å†™å°±æœ‰é—®é¢˜
VAR1="my var"
if [ $VAR1 = "my var" ]; then
    echo "\$VAR1 is $VAR1"
fi
# Output
# error [: too many arguments

# ç”¨åŒå¼•å·
if [ "$VAR1" = "my var" ]; then
    echo "\$VAR1 is $VAR1"
fi
```

æ€»çš„æ¥è¯´ï¼ŒåŒå¼•å·å¯ä»¥ä¸€ç›´åŠ ä¸Šã€‚

### ç©ºæ ¼é—®é¢˜

æ¯”è¾ƒè¡¨è¾¾å¼ä¸­ï¼Œå¦‚æœ `=` å‰åæ²¡æœ‰ç©ºæ ¼ï¼Œé‚£ä¹ˆæ•´ä¸ªè¡¨æ³•å¼ä¼šè¢«è®¤ä¸ºæ˜¯ä¸€ä¸ªå•è¯ï¼Œå…¶åˆ¤æ–­ç»“æœä¸º `True`.

```shell
#!/bin/bash
 
VAR2=2
#  ç”±äºè¢«è¯†åˆ«æˆä¸€ä¸ªå•è¯ï¼Œ [] é‡Œé¢ä¸º true
if [ "$VAR2"=1 ]; then
    echo "$VAR2 is 1."
else
    echo "$VAR2 is not 1."
fi
# Output
# 2 is 1.

# å‰ååŠ ä¸Šç©ºæ ¼å°±å¥½äº†
if [ "$VAR2" = 1 ]; then
    echo "$VAR2 is 1."
else
    echo "$VAR2 is not 1."
fi
# Output
# 2 is not 1.
```

å¦å¤–éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œ åœ¨åˆ¤æ–­ä¸­ï¼Œä¸­æ‹¬å· `[`  å’Œå˜é‡ä¹‹é—´ä¸€å®šè¦æœ‰ä¸€ä¸ªç©ºæ ¼ï¼Œ`=` æˆ–è€… `==`ã€‚ å¦‚æœç¼ºå°‘äº†ç©ºæ ¼ï¼Œä½ å¯èƒ½ä¼šåˆ°è¿™ç±»ä¼¼è¿™æ ·çš„é”™è¯¯ï¼š`unary operator expectedâ€™ or missing`]` ã€‚

```shell
# æ­£ç¡®ï¼Œ ç¬¦å·å‰åæœ‰ç©ºæ ¼
if [ $VAR2 = 1 ]; then
    echo "\$VAR2 is 1."
else
    echo "It's not 1."
fi
# Output
# 2 is 1.

# é”™è¯¯ï¼Œ ç¬¦å·å‰åæ— ç©ºæ ¼
if [$VAR2=1]; then
    echo "$VAR2 is 1."
else
    echo "It's not 1."
fi
# Output
# line 3: =1: command not found
# line 5: [=1]: command not found
# It's not 1.
```

### æ–‡ä»¶æµ‹è¯•è¡¨è¾¾å¼

å¯¹æ–‡ä»¶è¿›è¡Œç›¸å…³æµ‹è¯•ï¼Œåˆ¤æ–­çš„è¡¨è¾¾å¼å¦‚ä¸‹ï¼š

| è¡¨è¾¾å¼              | True                                     |
| :------------------ | :--------------------------------------- |
| *file1* -nt *file2* | *file1* æ¯” *file2* æ–°ã€‚                  |
| *file1* -ot *file2* | *file1* æ¯” *file2* è€ã€‚                  |
| -d *file*           | æ–‡ä»¶*file*å­˜åœ¨ï¼Œä¸”æ˜¯ä¸€ä¸ªæ–‡ä»¶å¤¹ã€‚         |
| -e *file*           | æ–‡ä»¶ *file* å­˜åœ¨ã€‚                       |
| -f *file*           | æ–‡ä»¶*file*å­˜åœ¨ï¼Œä¸”ä¸ºæ™®é€šæ–‡ä»¶ã€‚           |
| -L *file*           | æ–‡ä»¶*file*å­˜åœ¨ï¼Œä¸”ä¸ºç¬¦å·è¿æ¥ã€‚           |
| -O *file*           | æ–‡ä»¶ *flle* å­˜åœ¨, ä¸”ç”±æœ‰æ•ˆç”¨æˆ· ID æ‹¥æœ‰ã€‚ |
| -r *file*           | æ–‡ä»¶ *flle* å­˜åœ¨, ä¸”æ˜¯ä¸€ä¸ªå¯è¯»æ–‡ä»¶ã€‚     |
| -s *file*           | æ–‡ä»¶ *flle* å­˜åœ¨, ä¸”æ–‡ä»¶å¤§å°å¤§äº 0ã€‚     |
| -w file             | æ–‡ä»¶ *flle* å¯å†™å…¥ã€‚                     |
| -x file             | æ–‡ä»¶ *flle* å¯å†™æ‰§è¡Œã€‚                   |

å¯ä»¥ä½¿ç”¨ `man test` æŸ¥çœ‹è¯¦ç»†çš„è¯´æ˜ã€‚

å½“è¡¨è¾¾å¼ä¸º `True` æ—¶ï¼Œæµ‹è¯•å‘½ä»¤è¿”å›é€€å‡ºçŠ¶æ€ 0ï¼Œè€Œè¡¨è¾¾å¼ä¸º `False` æ—¶è¿”å›é€€å‡ºçŠ¶æ€1ã€‚

```shell
#!/bin/bash
FILE="/etc/resolv.conf"
if [ -e "$FILE" ]; then
  if [ -f "$FILE" ]; then
      echo "$FILE is a file."
  fi
  if [ -d "$FILE" ]; then
      echo "$FILE is a directory."
  fi
  if [ -r "$FILE" ]; then
      echo "$FILE is readable."
  fi
fi
```

### å­—ç¬¦ä¸²æ¯”è¾ƒè¡¨è¾¾å¼

| è¡¨è¾¾å¼                                      | True                      |
| :------------------------------------------ | :------------------------ |
| *string1 = string2* æˆ– *string1 == string2* | ä¸¤å­—ç¬¦ç›¸ç­‰                |
| *string1* != *string2*                      | ä¸¤ä¸ªå­—ç¬¦ä¸²ä¸ç›¸ç­‰          |
| *string1* > *string2*                       | *string1* å¤§äº *string2*. |
| *string1* < *string2*                       | *string1* å°äº*string2*.  |
| -n *string*                                 | å­—ç¬¦ä¸²é•¿åº¦å¤§äº0           |
| -z *string*                                 | å­—ç¬¦ä¸²é•¿åº¦ç­‰äº0           |

```shell
#!/bin/bash
STRING=""
if [ -z "$STRING" ]; then
  echo "There is no string." >&2 
  exit 1
fi

# Output
# There is no string.
```

å…¶ä¸­ `>&2` å°†é”™è¯¯ä¿¡æ¯å®šä½åˆ°æ ‡å‡†é”™è¯¯è¾“å‡ºã€‚

### æ•°å­—æ¯”è¾ƒè¡¨è¾¾å¼

ä¸‹é¢è¿™äº›æ˜¯ç”¨æ¥æ¯”è¾ƒæ•°å­—çš„ä¸€äº›è¡¨è¾¾å¼ã€‚

| [â€¦]                   | ((â€¦))                  | True                |
| :-------------------- | :--------------------- | :------------------ |
| [ â€œint1â€ -eq â€œint2â€ ] | (( â€œint1â€ == â€œint2â€ )) | ç›¸ç­‰.               |
| [ â€œint1â€ -nq â€œint2â€ ] | (( â€œint1â€ != â€œint2â€ )) | ä¸ç­‰.               |
| [ â€œint1â€ -lt â€œint2â€ ] | (( â€œint1â€ < â€œint2â€ ))  | int2 å¤§äº int1.     |
| [ â€œint1â€ -le â€œint2â€ ] | (( â€œint1â€ <= â€œint2â€ )) | int2 å¤§äºç­‰äº int1. |
| [ â€œint1â€ -gt â€œint2â€ ] | (( â€œint1 > â€œint2â€ ))   | int1 å¤§äº int2      |
| [ â€œint1â€ -ge â€œint2â€ ] | (( â€œint1 >= â€œint2â€ ))  | int1 å¤§äºç­‰äº int2  |

## shell è¿ç®—ç¬¦

### ç®—æ•°è¿ç®—ç¬¦

```shell
val1=`expr 2 + 2`
val2=`expr 2 - 2`
val3=`expr 2 \* 2` # *å‰é¢å¿…é¡»åŠ \
val4=`expr 2 / 2`
val5=`expr 2 % 2`

echo "2 + 2: $val1"
echo "2 - 2: $val2"
echo "2 * 2: $val3"
echo "2 / 2: $val4"
echo "2 % 2: $val5"
```

> æ³¨æ„ï¼š
>
> - ä½¿ç”¨åå¼•å·è€Œä¸æ˜¯å•å¼•å·ï¼›
> - å…³é”®å­—exprï¼›
> - è¿ç®—ç¬¦å¦‚ï¼š+-*/% å­—ç¬¦å‰åéƒ½éœ€è¦ç©ºæ ¼ï¼Œå¦åˆ™è¢«è®¤ä¸ºæ˜¯å­—ç¬¦ä¸²

å…¶ä»–ç®—æ•°è¿ç®—ç¬¦ï¼š

| è¿ç®—ç¬¦ | è¯´æ˜ | ç¤ºä¾‹                 |
| ------ | ---- | -------------------- |
| =      | èµ‹å€¼ | a=$b                 |
| ==     | åˆ¤ç­‰ | `[ $a == $b ] è¿”å›0` |
| !=     | ä¸ç­‰ | `[ $a != $b ] è¿”å›1` |

### å…³ç³»è¿ç®—ç¬¦

| è¿ç®—ç¬¦ | è¯´æ˜     | ç¤ºä¾‹            |
| ------ | -------- | --------------- |
| -eq    | ç­‰äº     | `[ $a -eq $b ]` |
| -ne    | ä¸ç­‰äº   |                 |
| -gt    | å¤§äº     |                 |
| -lt    | å°äº     |                 |
| -ge    | å¤§äºç­‰äº |                 |
| -le    | å°äºç­‰äº |                 |

> æ³¨æ„ï¼š
>
> - å…³ç³»è¿ç®—ç¬¦åªé€‚ç”¨äºæ•°å­—ï¼Œä¸æ”¯æŒå­—ç¬¦ä¸²ï¼Œé™¤éå­—ç¬¦ä¸²çš„å€¼æ˜¯æ•°å­—

### å¸ƒå°”è¿ç®—ç¬¦

| è¿ç®—ç¬¦ | è¯´æ˜   | ç¤ºä¾‹                         |
| ------ | ------ | ---------------------------- |
| !      | éè¿ç®— | `[ $a != $b ]`               |
| -o     | æˆ–è¿ç®— | `[ $a -eq $b -o $c -eq $d ]` |
| -a     | ä¸è¿ç®— | `[ $a -eq $b -a $c -eq $d ]` |

### é€»è¾‘è¿ç®—ç¬¦

| è¿ç®—ç¬¦ | è¯´æ˜   | ç¤ºä¾‹                           |
| ------ | ------ | ------------------------------ |
| &&     | ä¸è¿ç®— | `[[ $a -eq $b && $c -eq $d ]]` |
| \|\|   | æˆ–è¿ç®— | `[[ $a -eq $b || $c -eq $d ]]` |

> è¯´æ˜ï¼š
>
> - éœ€è¦ä¸¤å±‚[]

### å­—ç¬¦ä¸²è¿ç®—ç¬¦

| è¿ç®—ç¬¦ | è¯´æ˜                            | ç¤ºä¾‹           |
| ------ | ------------------------------- | -------------- |
| =      | åˆ¤ç­‰                            | `[ $a = $b ]`  |
| !=     | ä¸ç­‰                            | `[ $a != $b ]` |
| -z     | å­—ç¬¦é•¿åº¦æ˜¯å¦ä¸º0                 | `[ -z $a ]`    |
| -n     | å­—ç¬¦ä¸²é•¿åº¦ä¸ä¸º0                 | `[ -n $b ]`    |
| $      | å­—ç¬¦ä¸²ä¸ä¸ºç©ºï¼Œemptyæˆ–whitespace | `[ $a ]`       |

### æ–‡ä»¶æµ‹è¯•è¿ç®—ç¬¦

| è¿ç®—ç¬¦  | è¯´æ˜                           | ç¤ºä¾‹               |
| ------- | ------------------------------ | ------------------ |
| -b file | æ˜¯å¦ä¸ºå—è®¾å¤‡æ–‡ä»¶               | `[ -b $filepath ]` |
| -c file | æ˜¯å¦ä¸ºå­—ç¬¦è®¾å¤‡æ–‡ä»¶             |                    |
| -d file | æ˜¯å¦ä¸ºç›®å½•                     |                    |
| -f file | æ˜¯å¦ä¸ºæ™®é€šæ–‡ä»¶ï¼ˆéè®¾å¤‡æ–‡ä»¶ï¼‰   |                    |
| -g file | æ˜¯å¦è®¾ç½®SGIDä½                 |                    |
| -k file | æ˜¯å¦è®¾ç½®äº†ç²˜ç€ä½ï¼ˆsticky bitï¼‰ |                    |
| -p file | æ˜¯å¦æœ‰åç®¡é“                   |                    |
| -u file | æ˜¯å¦è®¾ç½®SUIDä½                 |                    |
| -r file | æ˜¯å¦å¯è¯»                       |                    |
| -w file | æ˜¯å¦å¯å†™                       |                    |
| -x file | æ˜¯å¦å¯æ‰§è¡Œ                     |                    |
| -s file | æ˜¯å¦ä¸ä¸ºç©ºæ–‡ä»¶ï¼ˆæ–‡ä»¶å¤§å°ä¸º0ï¼‰  |                    |
| -e file | æ–‡ä»¶ï¼ˆç›®å½•ï¼‰æ˜¯å¦å­˜åœ¨           |                    |
| -S file | æ–‡ä»¶æ˜¯å¦socket                 |                    |
| -L file | æ–‡ä»¶æ˜¯å¦å­˜åœ¨å¹¶ä¸”æ˜¯ä¸€ä¸ªç¬¦å·é“¾æ¥ |                    |

## shell å‘½ä»¤

### echo

æ‰“å°å­—ç¬¦ä¸²ï¼š

> - å¯ä»¥æ˜¯å¸¦åŒå¼•å·ï¼Œå•å¼•å·ï¼Œä¸å¸¦å¼•å·
> - å¯ä»¥è½¬ä¹‰
> - å¯ä»¥ç”¨å‚æ•°

```shell
echo "Hello World"
echo 'Hello World'
echo Hello World

name="Ding Peng"
echo "Hello, $name!"

# -e å¼€å¯è½¬ä¹‰
echo -e "Hi Ding,\n" # ä¸¤è¡Œä¹‹é—´ç©ºä¸€è¡Œ
echo "Nice to meet you."

echo -e "Hi Jay,\c"  # ä¸ä¼šæ¢è¡Œï¼Œéƒ½åœ¨ä¸€è¡Œå†…è¾“å‡º
echo "Nice to meet you." 

echo -e "Hi James,\r" # ä¼šæ¢è¡Œï¼Œä½†æ˜¯æ²¡æœ‰\rä¹Ÿä¼šé»˜è®¤æ¢è¡Œçš„ã€‚
echo -e "Nice to meet you."
```

æ‰“å°åˆ°æŸæ–‡ä»¶ï¼š

```shell
echo "Hello World" > temp.txt 
```

å˜é‡ä¸è½¬ä¹‰ï¼ŒåŸæ ·è¾“å‡ºï¼š

```shell
echo '$name'
echo '\*'
```

> è¯´æ˜ï¼š
>
> - éœ€è¦ç”¨å•å¼•å·

æ˜¾ç¤ºå‘½ä»¤æ‰§è¡Œç»“æœï¼š

```shell
echo `date`
```

> è¯´æ˜ï¼š
>
> - ä½¿ç”¨åå¼•å·ï¼Œä¸æ˜¯å•å¼•å·

### read

> äº¤äº’ï¼Œè·å–æ§åˆ¶å°è¾“å…¥å¹¶èµ‹å€¼ç»™æŸå˜é‡

```shell
read name
echo $name
```

### printf

> è¾“å‡ºå‘½ä»¤ï¼Œç§»æ¤æ€§ä¼˜äºechoã€‚é»˜è®¤ä¸æ¢è¡Œï¼Œå¯ä»¥åœ¨å­—ç¬¦ä¸²åæ·»åŠ \n

```shell
printf "Hello\n" 
```

é€šè¿‡ä»¥ä¸‹è„šæœ¬å­¦ä¹ printfå‘½ä»¤çš„ä¸€äº›æ ¼å¼åŒ–åŠŸèƒ½

```shell
printf "%-10s %-8s %-4s\n" å§“å æ€§åˆ« ä½“é‡kg  
printf "%-10s %-8s %-4.2f\n" éƒ­é– ç”· 66.1234 
printf "%-10s %-8s %-4.2f\n" æ¨è¿‡ ç”· 48.6543 
printf "%-10s %-8s %-4.2f\n" éƒ­èŠ™ å¥³ 47.9876 
```

> - %s %c %d %féƒ½æ˜¯æ ¼å¼æ›¿ä»£ç¬¦
> - %-10s æŒ‡ä¸€ä¸ªå®½åº¦ä¸º10ä¸ªå­—ç¬¦ï¼ˆ-è¡¨ç¤ºå·¦å¯¹é½ï¼Œæ²¡æœ‰åˆ™è¡¨ç¤ºå³å¯¹é½ï¼‰ï¼Œä»»ä½•å­—ç¬¦éƒ½ä¼šè¢«æ˜¾ç¤ºåœ¨10ä¸ªå­—ç¬¦å®½çš„å­—ç¬¦å†…ï¼Œå¦‚æœä¸è¶³åˆ™è‡ªåŠ¨ä»¥ç©ºæ ¼å¡«å……ï¼Œè¶…è¿‡ä¹Ÿä¼šå°†å†…å®¹å…¨éƒ¨æ˜¾ç¤ºå‡ºæ¥ã€‚
> - %-4.2f æŒ‡æ ¼å¼åŒ–ä¸ºå°æ•°ï¼Œå…¶ä¸­.2æŒ‡ä¿ç•™2ä½å°æ•°ã€‚

## shell å˜é‡å¼•ç”¨

å½“ä½ è¦ä½¿ç”¨å˜é‡çš„æ—¶å€™ï¼Œç”¨ `$` æ¥å¼•ç”¨ï¼Œ å¦‚æœåé¢è¦æ¥ä¸€äº›å…¶ä»–å­—ç¬¦ï¼Œå¯ä»¥ç”¨ `{}` æ‹¬èµ·æ¥ã€‚

```shell
#!/bin/bash
WORLD="world world"
echo "hello $WORLD"  # hello world world
echo "hello ${WORLD}2" # hello world world2
```

åœ¨ Bash ä¸­è¦æ³¨æ„ å•å¼•å· `'` ï¼ŒåŒå¼•å· `"` ï¼Œåå¼•å· ` çš„åŒºåˆ«ã€‚

å•å¼•å·ï¼ŒåŒå¼•å·éƒ½èƒ½ç”¨æ¥ä¿ç•™å¼•å·å†…çš„ä¸ºæ–‡å­—å€¼ï¼Œå…¶å·®åˆ«åœ¨äºï¼ŒåŒå¼•å·åœ¨é‡åˆ° `$(å‚æ•°æ›¿æ¢)` ï¼Œåå¼•å· `(å‘½ä»¤æ›¿æ¢) çš„æ—¶å€™æœ‰ä¾‹å¤–ï¼Œå•å¼•å·åˆ™å‰¥å¤ºå…¶ä¸­æ‰€æœ‰å­—ç¬¦çš„ç‰¹æ®Šå«ä¹‰ã€‚

è€Œåå¼•å·çš„ä½œç”¨ å’Œ `$()` æ˜¯å·®ä¸å¤šçš„ã€‚ åœ¨æ‰§è¡Œä¸€æ¡å‘½ä»¤çš„æ—¶å€™ï¼Œä¼šå…ˆæ‰§è¡Œå…¶ä¸­çš„å‘½ä»¤ï¼Œå†æŠŠç»“æœæ”¾åˆ°åŸå‘½ä»¤ä¸­ã€‚

```shell
#!/bin/bash
var="music"
sports='sports'
echo "I like $var"   # I like music
echo "I like ${var}" # I like music
echo I like $var     # I like music
echo 'I like $var'   # I like $var
echo "I like \$var"  # I like $var
echo 'I like \$var'  # I like \$var
echo `bash -version` # GNU bash, version 5.0.17(1)-release (x86_64-pc-linux-gnu)...
echo 'bash -version' # bash -version
```

## shell ç»å…¸å®ä¾‹

### åˆ é™¤ç¡®è®¤

```shell
#!/bin/bash
delete_sure
delete_sure(){
  cat << eof
$(echo -e "\033[1;36mNote:\033[0m")
Delete the KubeSphere cluster, including the module kubesphere-system kubesphere-devops-system kubesphere-monitoring-system kubesphere-logging-system openpitrix-system.
eof

read -p "Please reconfirm that you want to delete the KubeSphere cluster.  (yes/no) " ans
while [[ "x"$ans != "xyes" && "x"$ans != "xno" ]]; do
    read -p "Please reconfirm that you want to delete the KubeSphere cluster.  (yes/no) " ans
done

if [[ "x"$ans == "xno" ]]; then
    exit
fi
}
```

---
[Â« shell å‘½ä»¤é—´éš”ç¬¦](shell-command-interval-character.md)

[Â» ä½¿ç”¨ SSH Tunnel è¿æ¥ä¸­é—´ä»¶](ssh-tunnel-connect-middleware.md)
