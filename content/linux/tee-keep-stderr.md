[ğŸ  é¦–é¡µ](../_index.md) / [Linux](_index.md) / tee ä¿å­˜ stderr åˆ°æ–‡ä»¶

# tee ä¿å­˜ stderr åˆ°æ–‡ä»¶

**tee**å‘½ä»¤æ˜¯å°† stdout å†™å…¥åˆ°æŸæ–‡ä»¶å½“ä¸­ï¼Œä½†æ˜¯å¦‚ä½•å°† stderr ä¹Ÿå†™å…¥åˆ°æ–‡ä»¶å½“ä¸­ï¼Ÿ

ç¤ºä¾‹å¦‚ä¸‹ï¼š

1.sh

```shell
echo exec 1.sh start! && \
cat hello.txt && \
echo exec 1.sh end!
```

å‡å¦‚ hello.txt æ–‡ä»¶ä¸å­˜åœ¨ï¼Œæ‰§è¡Œ 1.sh æ–‡ä»¶ä¸­çš„ cat å‘½ä»¤å°†æŠ¥é”™ã€‚å¦‚æœæˆ‘ä»¬æƒ³å°†æ‰§è¡Œ 1.sh æ–‡ä»¶çš„è¾“å‡ºå†™å…¥åˆ°ä¸€ä¸ª log æ–‡ä»¶ï¼Œä¾‹å¦‚ï¼š

```bash
sh 1.sh | tee 1.log
```

æ‰§è¡Œä»¥ä¸Šå‘½ä»¤ï¼Œæ§åˆ¶å°çš„è¾“å‡ºæ˜¯ï¼š

```tex
$ sh 1.sh | tee 1.log
exec 1.sh start!
cat: hello.txt: No such file or directory
```

ä½†æ˜¯å†™å…¥åˆ° 1.log æ—¥å¿—æ–‡ä»¶ä¸­çš„å†…å®¹æ˜¯ï¼š

```tex
exec 1.sh start!
```

å¯ä»¥çœ‹åˆ°ï¼Œå¹¶æ²¡æœ‰å°†é”™è¯¯è¾“å‡ºåˆ°æ—¥å¿—æ–‡ä»¶ä¸­ï¼Œå¦‚æœæˆ‘ä»¬æƒ³å°†é”™è¯¯ä¸€å¹¶è¾“å‡ºåˆ°æ—¥å¿—æ–‡ä»¶ï¼Œè¯¥æ€ä¹ˆåšå‘¢ï¼Ÿ

ä½¿ç”¨ä»¥ä¸‹åŠæ³•ï¼š

```bash
sh 1.sh 2&>1 | tee 1.log
```

è¿™ä¸‹æˆ‘ä»¬å°±èƒ½åŒæ—¶åœ¨æ§åˆ¶å°å’Œæ—¥å¿—æ–‡ä»¶ä¸­çœ‹åˆ°é”™è¯¯è¾“å‡ºäº†ã€‚

**ç§‘æ™®**ï¼š

ä¸Šè¿°å‘½ä»¤ä¸­ä½¿ç”¨åˆ°çš„ `2>&1` æ˜¯ä»€ä¹ˆæ„æ€ï¼Ÿ

> 0 stdinï¼Œ1 stdoutï¼Œ2 stderr
>
> 2>&1ï¼šå°†æ ‡å‡†é”™è¯¯é‡å®šå‘è‡³æ ‡å‡†è¾“å‡º

---
[Â« ä½¿ç”¨ SSH Tunnel è¿æ¥ä¸­é—´ä»¶](ssh-tunnel-connect-middleware.md)

[Â» æœåŠ¡ç«¯ä¸å®¢æˆ·ç«¯ä¼ è¾“æ–‡ä»¶](transfer-files-between-server-and-client.md)
