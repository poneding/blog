<!doctype html><html lang=cn dir=ltr><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="🏠 首页 / Linux / Linux 命令
Linux 命令 # Linux 命令大全
cat # cat命令用于把档案串连接后传到基本输出（萤幕或加 > fileName 到另一个档案）
使用权限 # 所有使用者
语法格式 # cat [-AbeEnstTuv] [--help] [--version] fileName 参数说明 # -n 或 &ndash;number 由 1 开始对所有输出的行数编号
-b 或 &ndash;number-nonblank 和 -n 相似，只不过对于空白行不编号
-s 或 &ndash;squeeze-blank 当遇到有连续两行以上的空白行，就代换为一行的空白行
-v 或 &ndash;show-nonprinting
实例 # 把 textfile1 的档案内容加上行号后输入 textfile2 这个档案里
cat -n textfile1 > textfile2 把 textfile1 和 textfile2 的档案内容加上行号（空白行不加）之后将内容附加到 textfile3 里。
cat -b textfile1 textfile2 >> textfile3 清空/etc/test."><meta name=theme-color media="(prefers-color-scheme: light)" content="#ffffff"><meta name=theme-color media="(prefers-color-scheme: dark)" content="#343a40"><meta name=color-scheme content="light dark"><meta property="og:url" content="https://blog.poneding.com/linux/linux-commands/"><meta property="og:site_name" content="秋河落叶"><meta property="og:title" content="秋河落叶"><meta property="og:description" content="🏠 首页 / Linux / Linux 命令
Linux 命令 # Linux 命令大全
cat # cat命令用于把档案串连接后传到基本输出（萤幕或加 > fileName 到另一个档案）
使用权限 # 所有使用者
语法格式 # cat [-AbeEnstTuv] [--help] [--version] fileName 参数说明 # -n 或 –number 由 1 开始对所有输出的行数编号
-b 或 –number-nonblank 和 -n 相似，只不过对于空白行不编号
-s 或 –squeeze-blank 当遇到有连续两行以上的空白行，就代换为一行的空白行
-v 或 –show-nonprinting
实例 # 把 textfile1 的档案内容加上行号后输入 textfile2 这个档案里
cat -n textfile1 > textfile2 把 textfile1 和 textfile2 的档案内容加上行号（空白行不加）之后将内容附加到 textfile3 里。
cat -b textfile1 textfile2 >> textfile3 清空/etc/test."><meta property="og:locale" content="cn"><meta property="og:type" content="article"><meta property="article:section" content="linux"><meta property="article:modified_time" content="2024-06-13T15:37:18+08:00"><title>Linux Commands | 秋河落叶</title>
<link rel=manifest href=/manifest.json><link rel=icon href=/logo.png><link rel=canonical href=https://blog.poneding.com/linux/linux-commands/><link rel=stylesheet href=/book.min.4964903a822a7acb10dac6d1ab524833c97fb5f99b141976bcb8a47d539be9c0.css integrity="sha256-SWSQOoIqessQ2sbRq1JIM8l/tfmbFBl2vLikfVOb6cA=" crossorigin=anonymous><script defer src=/fuse.min.js></script><script defer src=/cn.search.min.5384c817f8e5091a4be55340d61ef8434326ad54d08bb77fed2d3b4b3870677c.js integrity="sha256-U4TIF/jlCRpL5VNA1h74Q0MmrVTQi7d/7S07SzhwZ3w=" crossorigin=anonymous></script><script defer src=/sw.min.6f6f90fcb8eb1c49ec389838e6b801d0de19430b8e516902f8d75c3c8bd98739.js integrity="sha256-b2+Q/LjrHEnsOJg45rgB0N4ZQwuOUWkC+NdcPIvZhzk=" crossorigin=anonymous></script><link rel=stylesheet href=/css/syntax.css></head><body dir=ltr><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><main class="container flex"><aside class=book-menu><div class=book-menu-content><nav><h2 class=book-brand><a class="flex align-center" href=/><img src=/logo.png alt=Logo><span>秋河落叶</span></a></h2><div class="book-search hidden"><input type=text id=book-search-input placeholder=搜索 aria-label=搜索 maxlength=64 data-hotkeys=s/><div class="book-search-spinner hidden"></div><ul id=book-search-results></ul></div><script>document.querySelector(".book-search").classList.remove("hidden")</script><p>🦉 集中起来的意志可以击穿顽石。</p><hr><ul><li><p><a href=/><strong>🏠 首页</strong></a></p></li><li><p><strong>📌 置顶文章</strong></p><ul><li><a href=/git/common-usage/>Git 常用</a></li><li><a href=/kubernetes/kubeadm-install-k8s-docker/>安装 Kubernetes (Docker)</a></li></ul></li><li><p><strong>📌 置顶分类</strong></p><ul><li><a href=/go/>Golang 编程</a></li><li><a href=/kubernetes/>Kubernetes</a></li><li><a href=/rust/>Rust 编程</a></li><li><a href=/git/>Git</a></li></ul></li></ul><hr><ul><li><strong>🗃️ 开源项目</strong><ul><li><a href=https://github.com/ketches/registry-proxy>registry-proxy</a></li><li><a href=https://github.com/poneding/mdi>mdi</a></li></ul></li></ul><hr><ul><li><a href=https://github.com/poneding target=_blank rel=noopener>🐙 GitHub</a></li><li><a href=mailto:poneding@gmail.com target=_blank rel=noopener>📬 邮箱</a></li></ul></nav><script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script></div></aside><div class=book-page><header class=book-header><div class="flex align-center justify-between"><label for=menu-control><img src=/svg/menu.svg class=book-icon alt=Menu>
</label><strong>Linux Commands</strong>
<label for=toc-control><img src=/svg/toc.svg class=book-icon alt="Table of Contents"></label></div><aside class="hidden clearfix"><nav id=TableOfContents><ul><li><a href=#cat>cat</a><ul><li><a href=#使用权限>使用权限</a></li><li><a href=#语法格式>语法格式</a></li><li><a href=#参数说明>参数说明</a></li><li><a href=#实例>实例</a></li></ul></li><li><a href=#chattr>chattr</a><ul><li><a href=#语法>语法</a></li><li><a href=#参数>参数</a></li><li><a href=#实例-1>实例</a></li></ul></li><li><a href=#chgrp>chgrp</a><ul><li><a href=#语法-1>语法</a></li><li><a href=#参数说明-1>参数说明</a></li><li><a href=#实例-2>实例</a></li></ul></li><li><a href=#chmod>chmod</a><ul><li><a href=#语法-2>语法</a></li><li><a href=#参数说明-2>参数说明</a></li><li><a href=#实例-3>实例</a></li></ul></li><li><a href=#file>file</a><ul><li><a href=#语法-3>语法</a></li><li><a href=#实例-4>实例</a></li></ul></li><li><a href=#find>find</a><ul><li><a href=#语法-4>语法</a></li><li><a href=#实例-5>实例</a></li></ul></li><li><a href=#echo>echo</a></li><li><a href=#curl>curl</a></li><li><a href=#date>date</a></li><li><a href=#source-命令>source 命令</a><ul><li><a href=#语法-5>语法</a></li><li><a href=#示例>示例</a></li></ul></li></ul></nav></aside></header><article class="markdown book-article"><p><a href=/>🏠 首页</a> /
<a href=/linux/>Linux</a> / Linux 命令</p><h1 id=linux-命令>Linux 命令
<a class=anchor href=#linux-%e5%91%bd%e4%bb%a4>#</a></h1><p><a href=https://www.w3cschool.cn/linux/linux-command-manual.html>Linux 命令大全</a></p><h2 id=cat>cat
<a class=anchor href=#cat>#</a></h2><p>cat命令用于把档案串连接后传到基本输出（萤幕或加 > fileName 到另一个档案）</p><h3 id=使用权限>使用权限
<a class=anchor href=#%e4%bd%bf%e7%94%a8%e6%9d%83%e9%99%90>#</a></h3><p>所有使用者</p><h3 id=语法格式>语法格式
<a class=anchor href=#%e8%af%ad%e6%b3%95%e6%a0%bc%e5%bc%8f>#</a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>cat <span class=o>[</span>-AbeEnstTuv<span class=o>]</span> <span class=o>[</span>--help<span class=o>]</span> <span class=o>[</span>--version<span class=o>]</span> fileName
</span></span></code></pre></div><h3 id=参数说明>参数说明
<a class=anchor href=#%e5%8f%82%e6%95%b0%e8%af%b4%e6%98%8e>#</a></h3><p>　　-n 或 &ndash;number 由 1 开始对所有输出的行数编号</p><p>　　-b 或 &ndash;number-nonblank 和 -n 相似，只不过对于空白行不编号</p><p>　　-s 或 &ndash;squeeze-blank 当遇到有连续两行以上的空白行，就代换为一行的空白行</p><p>　　-v 或 &ndash;show-nonprinting</p><h3 id=实例>实例
<a class=anchor href=#%e5%ae%9e%e4%be%8b>#</a></h3><p>把 textfile1 的档案内容加上行号后输入 textfile2 这个档案里</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>cat -n textfile1 &gt; textfile2
</span></span></code></pre></div><p>把 textfile1 和 textfile2 的档案内容加上行号（空白行不加）之后将内容附加到 textfile3 里。</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>cat -b textfile1 textfile2 &gt;&gt; textfile3
</span></span></code></pre></div><p>清空/etc/test.txt档案内容</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>cat /dev/null &gt; /etc/test.txt
</span></span></code></pre></div><p>　　cat 也可以用来制作镜像文件。例如要制作软碟的像文件，将软碟放好后打</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>cat /dev/fd0 &gt; OUTFILE
</span></span></code></pre></div><p>相反的，如果想把 image file 写到软碟，请打</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>cat IMG_FILE &gt; /dev/fd0
</span></span></code></pre></div><p>写入多行到文件：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>cat <span class=s>&lt;&lt; EOF &gt; hello.txt
</span></span></span><span class=line><span class=cl><span class=s>Hello
</span></span></span><span class=line><span class=cl><span class=s>World
</span></span></span><span class=line><span class=cl><span class=s>EOF</span>
</span></span></code></pre></div><p>　　<strong>注</strong>：</p><ul><li>\1. OUTFILE 指输出的镜像文件名。</li><li>\2. IMG_FILE 指镜像文件。</li><li>\3. 若从镜像文件写回 device 时，device 容量需与相当。</li><li>\4. 通常用在制作开机磁片。</li></ul><h2 id=chattr>chattr
<a class=anchor href=#chattr>#</a></h2><p>Linux chattr命令用于改变文件属性。</p><p>这项指令可改变存放在ext2文件系统上的文件或目录属性，这些属性共有以下8种模式：</p><ol><li>a：让文件或目录仅供附加用途。</li><li>b：不更新文件或目录的最后存取时间。</li><li>c：将文件或目录压缩后存放。</li><li>d：将文件或目录排除在倾倒操作之外。</li><li>i：不得任意更动文件或目录。</li><li>s：保密性删除文件或目录。</li><li>S：即时更新文件或目录。</li><li>u：预防以外删除。</li></ol><h3 id=语法>语法
<a class=anchor href=#%e8%af%ad%e6%b3%95>#</a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>chattr <span class=o>[</span>-RV<span class=o>][</span>-v&lt;版本编号&gt;<span class=o>][</span>+/-/<span class=o>=</span>&lt;属性&gt;<span class=o>][</span>文件或目录...<span class=o>]</span>
</span></span></code></pre></div><h3 id=参数>参数
<a class=anchor href=#%e5%8f%82%e6%95%b0>#</a></h3><p>　　-R 递归处理，将指定目录下的所有文件及子目录一并处理。</p><p>　　-v&lt;版本编号> 设置文件或目录版本。</p><p>　　-V 显示指令执行过程。</p><p>　　+&lt;属性> 开启文件或目录的该项属性。</p><p>　　-&lt;属性> 关闭文件或目录的该项属性。</p><p>　　=&lt;属性> 指定文件或目录的该项属性。</p><h3 id=实例-1>实例
<a class=anchor href=#%e5%ae%9e%e4%be%8b-1>#</a></h3><p>用chattr命令防止系统中某个关键文件被修改：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>chattr +i /etc/resolv.conf
</span></span><span class=line><span class=cl>lsattr /etc/resolv.conf
</span></span></code></pre></div><p>会显示如下属性</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-tex data-lang=tex><span class=line><span class=cl>----i-------- /etc/resolv.conf
</span></span></code></pre></div><p>让某个文件只能往里面追加数据，但不能删除，适用于各种日志文件：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>chattr +a /var/log/messages
</span></span></code></pre></div><h2 id=chgrp>chgrp
<a class=anchor href=#chgrp>#</a></h2><p>Linux chgrp命令用于变更文件或目录的所属群组。</p><p>在UNIX系统家族里，文件或目录权限的掌控以拥有者及所属群组来管理。您可以使用chgrp指令去变更文件与目录的所属群组，设置方式采用群组名称或群组识别码皆可。</p><h3 id=语法-1>语法
<a class=anchor href=#%e8%af%ad%e6%b3%95-1>#</a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>chgrp <span class=o>[</span>-cfhRv<span class=o>][</span>--help<span class=o>][</span>--version<span class=o>][</span>所属群组<span class=o>][</span>文件或目录...<span class=o>]</span> 或 chgrp <span class=o>[</span>-cfhRv<span class=o>][</span>--help<span class=o>][</span>--reference<span class=o>=</span>&lt;参考文件或目录&gt;<span class=o>][</span>--version<span class=o>][</span>文件或目录...<span class=o>]</span>
</span></span></code></pre></div><h3 id=参数说明-1>参数说明
<a class=anchor href=#%e5%8f%82%e6%95%b0%e8%af%b4%e6%98%8e-1>#</a></h3><p>　　-c或&ndash;changes 效果类似"-v"参数，但仅回报更改的部分。</p><p>　　-f或&ndash;quiet或&ndash;silent 　不显示错误信息。</p><p>　　-h或&ndash;no-dereference 　只对符号连接的文件作修改，而不更动其他任何相关文件。</p><p>　　-R或&ndash;recursive 　递归处理，将指定目录下的所有文件及子目录一并处理。</p><p>　　-v或&ndash;verbose 　显示指令执行过程。</p><p>　　&ndash;help 　在线帮助。</p><p>　　&ndash;reference=&lt;参考文件或目录> 　把指定文件或目录的所属群组全部设成和参考文件或目录的所属群组相同。</p><p>　　&ndash;version 　显示版本信息。</p><h3 id=实例-2>实例
<a class=anchor href=#%e5%ae%9e%e4%be%8b-2>#</a></h3><p>实例1：改变文件的群组属性：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>chgrp -v bin log2012.log
</span></span></code></pre></div><p>输出：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=o>[</span>root@localhost test<span class=o>]</span><span class=c1># ll</span>
</span></span><span class=line><span class=cl>---xrw-r-- <span class=m>1</span> root root <span class=m>302108</span> 11-13 06:03 log2012.log
</span></span><span class=line><span class=cl><span class=o>[</span>root@localhost test<span class=o>]</span><span class=c1># chgrp -v bin log2012.log</span>
</span></span></code></pre></div><p>&ldquo;log2012.log&rdquo; 的所属组已更改为 bin</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=o>[</span>root@localhost test<span class=o>]</span><span class=c1># ll</span>
</span></span><span class=line><span class=cl>---xrw-r-- <span class=m>1</span> root bin  <span class=m>302108</span> 11-13 06:03 log2012.log
</span></span></code></pre></div><p>说明： 将log2012.log文件由root群组改为bin群组</p><p>实例2：根据指定文件改变文件的群组属性</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>chgrp --reference<span class=o>=</span>log2012.log log2013.log
</span></span></code></pre></div><p>输出：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=o>[</span>root@localhost test<span class=o>]</span><span class=c1># ll</span>
</span></span><span class=line><span class=cl>---xrw-r-- <span class=m>1</span> root bin  <span class=m>302108</span> 11-13 06:03 log2012.log
</span></span><span class=line><span class=cl>-rw-r--r-- <span class=m>1</span> root root     <span class=m>61</span> 11-13 06:03 log2013.log
</span></span><span class=line><span class=cl><span class=o>[</span>root@localhost test<span class=o>]</span><span class=c1>#  chgrp --reference=log2012.log log2013.log </span>
</span></span><span class=line><span class=cl><span class=o>[</span>root@localhost test<span class=o>]</span><span class=c1># ll</span>
</span></span><span class=line><span class=cl>---xrw-r-- <span class=m>1</span> root bin  <span class=m>302108</span> 11-13 06:03 log2012.log
</span></span><span class=line><span class=cl>-rw-r--r-- <span class=m>1</span> root bin      <span class=m>61</span> 11-13 06:03 log2013.log
</span></span></code></pre></div><p>说明： 改变文件log2013.log 的群组属性，使得文件log2013.log的群组属性和参考文件log2012.log的群组属性相同</p><h2 id=chmod>chmod
<a class=anchor href=#chmod>#</a></h2><p>Linux/Unix 的文件调用权限分为三级 : 文件拥有者、群组、其他。利用 chmod 可以藉以控制文件如何被他人所调用。</p><p><strong>使用权限</strong> : 所有使用者</p><h3 id=语法-2>语法
<a class=anchor href=#%e8%af%ad%e6%b3%95-2>#</a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>chmod <span class=o>[</span>-cfvR<span class=o>]</span> <span class=o>[</span>--help<span class=o>]</span> <span class=o>[</span>--version<span class=o>]</span> mode file...
</span></span></code></pre></div><h3 id=参数说明-2>参数说明
<a class=anchor href=#%e5%8f%82%e6%95%b0%e8%af%b4%e6%98%8e-2>#</a></h3><p>mode : 权限设定字串，格式如下 :</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=o>[</span>ugoa...<span class=o>][[</span>+-<span class=o>=][</span>rwxX<span class=o>]</span>...<span class=o>][</span>,...<span class=o>]</span>
</span></span></code></pre></div><p>其中：</p><ul><li>u 表示该文件的拥有者，g 表示与该文件的拥有者属于同一个群体(group)者，o 表示其他以外的人，a 表示这三者皆是。</li><li>+ 表示增加权限、- 表示取消权限、= 表示唯一设定权限。</li><li>r 表示可读取，w 表示可写入，x 表示可执行，X 表示只有当该文件是个子目录或者该文件已经被设定过为可执行。</li></ul><p>-c : 若该文件权限确实已经更改，才显示其更改动作</p><p>-f : 若该文件权限无法被更改也不要显示错误讯息</p><p>-v : 显示权限变更的详细资料</p><p>-R : 对目前目录下的所有文件与子目录进行相同的权限变更(即以递回的方式逐个变更)</p><p>&ndash;help : 显示辅助说明</p><p>&ndash;version : 显示版本</p><h3 id=实例-3>实例
<a class=anchor href=#%e5%ae%9e%e4%be%8b-3>#</a></h3><p>将文件 file1.txt 设为所有人皆可读取 :</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>chmod ugo+r file1.txt
</span></span></code></pre></div><p>将文件 file1.txt 设为所有人皆可读取 :</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>chmod a+r file1.txt
</span></span></code></pre></div><p>将文件 file1.txt 与 file2.txt 设为该文件拥有者，与其所属同一个群体者可写入，但其他以外的人则不可写入 :</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>chmod ug+w,o-w file1.txt file2.txt
</span></span></code></pre></div><p>将 ex1.py 设定为只有该文件拥有者可以执行 :</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>chmod u+x ex1.py
</span></span></code></pre></div><p>将目前目录下的所有文件与子目录皆设为任何人可读取 :</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>chmod -R a+r *
</span></span></code></pre></div><p>此外chmod也可以用数字来表示权限如 :</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>chmod <span class=m>777</span> file
</span></span></code></pre></div><p>语法为：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>chmod abc file
</span></span></code></pre></div><p>其中a,b,c各为一个数字，分别表示User、Group、及Other的权限。</p><p>r=4，w=2，x=1</p><ul><li>若要rwx属性则4+2+1=7；</li><li>若要rw-属性则4+2=6；</li><li>若要r-x属性则4+1=5。</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>chmod <span class=nv>a</span><span class=o>=</span>rwx file
</span></span></code></pre></div><p>和</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>chmod <span class=m>777</span> file
</span></span></code></pre></div><p>效果相同</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>chmod <span class=nv>ug</span><span class=o>=</span>rwx,o<span class=o>=</span>x file
</span></span></code></pre></div><p>和</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>chmod <span class=m>771</span> file
</span></span></code></pre></div><p>效果相同</p><p>若用chmod 4755 filename可使此程序具有root的权限</p><h2 id=file>file
<a class=anchor href=#file>#</a></h2><p>Linux file命令用于辨识文件类型。</p><p>通过file指令，我们得以辨识该文件的类型。</p><h3 id=语法-3>语法
<a class=anchor href=#%e8%af%ad%e6%b3%95-3>#</a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>file <span class=o>[</span>-beLvz<span class=o>][</span>-f &lt;名称文件&gt;<span class=o>][</span>-m &lt;魔法数字文件&gt;...<span class=o>][</span>文件或目录...<span class=o>]</span>
</span></span></code></pre></div><p><strong>参数</strong>：</p><ul><li>-b 　列出辨识结果时，不显示文件名称。</li><li>-c 　详细显示指令执行过程，便于排错或分析程序执行的情形。</li><li>-f&lt;名称文件> 　指定名称文件，其内容有一个或多个文件名称呢感，让file依序辨识这些文件，格式为每列一个文件名称。</li><li>-L 　直接显示符号连接所指向的文件的类别。</li><li>-m&lt;魔法数字文件> 　指定魔法数字文件。</li><li>-v 　显示版本信息。</li><li>-z 　尝试去解读压缩文件的内容。</li><li>[文件或目录&mldr;] 要确定类型的文件列表，多个文件之间使用空格分开，可以使用shell通配符匹配多个文件。</li></ul><h3 id=实例-4>实例
<a class=anchor href=#%e5%ae%9e%e4%be%8b-4>#</a></h3><p>显示文件类型：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=o>[</span>root@localhost ~<span class=o>]</span><span class=c1># file install.log</span>
</span></span><span class=line><span class=cl>install.log: UTF-8 Unicode text
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=o>[</span>root@localhost ~<span class=o>]</span><span class=c1># file -b install.log      &lt;== 不显示文件名称</span>
</span></span><span class=line><span class=cl>UTF-8 Unicode text
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=o>[</span>root@localhost ~<span class=o>]</span><span class=c1># file -i install.log      &lt;== 显示MIME类别。</span>
</span></span><span class=line><span class=cl>install.log: text/plain<span class=p>;</span> <span class=nv>charset</span><span class=o>=</span>utf-8
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=o>[</span>root@localhost ~<span class=o>]</span><span class=c1># file -b -i install.log</span>
</span></span><span class=line><span class=cl>text/plain<span class=p>;</span> <span class=nv>charset</span><span class=o>=</span>utf-8
</span></span></code></pre></div><p>显示符号链接的文件类型</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=o>[</span>root@localhost ~<span class=o>]</span><span class=c1># ls -l /var/mail</span>
</span></span><span class=line><span class=cl>lrwxrwxrwx <span class=m>1</span> root root <span class=m>10</span> 08-13 00:11 /var/mail -&gt; spool/mail
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=o>[</span>root@localhost ~<span class=o>]</span><span class=c1># file /var/mail</span>
</span></span><span class=line><span class=cl>/var/mail: symbolic link to <span class=sb>`</span>spool/mail<span class=err>&#39;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=o>[</span>root@localhost ~<span class=o>]</span><span class=c1># file -L /var/mail</span>
</span></span><span class=line><span class=cl>/var/mail: directory
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=o>[</span>root@localhost ~<span class=o>]</span><span class=c1># file /var/spool/mail</span>
</span></span><span class=line><span class=cl>/var/spool/mail: directory
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=o>[</span>root@localhost ~<span class=o>]</span><span class=c1># file -L /var/spool/mail</span>
</span></span><span class=line><span class=cl>/var/spool/mail: directory
</span></span></code></pre></div><h2 id=find>find
<a class=anchor href=#find>#</a></h2><p>Linux find 命令用来在指定目录下查找文件。任何位于参数之前的字符串都将被视为欲查找的目录名。如果使用该命令时，不设置任何参数，则 find 命令将在当前目录下查找子目录与文件。并且将查找到的子目录和文件全部进行显示。</p><h3 id=语法-4>语法
<a class=anchor href=#%e8%af%ad%e6%b3%95-4>#</a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>find   path   -option   <span class=o>[</span>   -print <span class=o>]</span>   <span class=o>[</span> -exec   -ok   <span class=nb>command</span> <span class=o>]</span>   <span class=o>{}</span> <span class=p>;</span>
</span></span></code></pre></div><p>参数说明 :</p><p>find 根据下列规则判断 path 和 expression，在命令列上第一个 - ( ) , ! 之前的部份为 path，之后的是 expression。如果 path 是空字串则使用目前路径，如果 expression 是空字串则使用 -print 为预设 expression。</p><p>expression 中可使用的选项有二三十个之多，在此只介绍最常用的部份。</p><p>-mount, -xdev : 只检查和指定目录在同一个文件系统下的文件，避免列出其它文件系统中的文件</p><p>-amin n : 在过去 n 分钟内被读取过</p><p>-anewer file : 比文件 file 更晚被读取过的文件</p><p>-atime n : 在过去 n 天过读取过的文件</p><p>-cmin n : 在过去 n 分钟内被修改过</p><p>-cnewer file :比文件 file 更新的文件</p><p>-ctime n : 在过去 n 天过修改过的文件</p><p>-empty : 空的文件-gid n or -group name : gid 是 n 或是 group 名称是 name</p><p>-ipath p, -path p : 路径名称符合 p 的文件，ipath 会忽略大小写</p><p>-name name, -iname name : 文件名称符合 name 的文件。iname 会忽略大小写</p><p>-size n : 文件大小 是 n 单位，b 代表 512 位元组的区块，c 表示字元数，k 表示 kilo bytes，w 是二个位元组。-type c : 文件类型是 c 的文件。</p><p>d: 目录</p><p>c: 字型装置文件</p><p>b: 区块装置文件</p><p>p: 具名贮列</p><p>f: 一般文件</p><p>l: 符号连结</p><p>s: socket</p><p>-pid n : process id 是 n 的文件</p><p>你可以使用 ( ) 将运算式分隔，并使用下列运算。</p><p>exp1 -and exp2</p><p>! expr</p><p>-not expr</p><p>exp1 -or exp2</p><p>exp1, exp2</p><h3 id=实例-5>实例
<a class=anchor href=#%e5%ae%9e%e4%be%8b-5>#</a></h3><p>列出给定目录(base_path)下所有的文件和子目录：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>find base_path -print
</span></span></code></pre></div><p><img src=https://fs.poneding.com/images/1-18.png alt=Linux/Unix重要find命令详解Linux/Unix重要find命令详解></p><p>补充：根据文件名和正则表达式进行搜索，使用选项 -name 或 -iname (忽略大小写)：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>find base_path -name ‘xxx’ -print
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>find base_path -iname ’xxx‘ -print
</span></span></code></pre></div><p><img src=https://fs.poneding.com/images/2-11.png alt=Linux/Unix重要find命令详解Linux/Unix重要find命令详解></p><p><strong>否定参数，可以用 ！排除所指定到的模式</strong>：</p><p><img src=https://fs.poneding.com/images/3-11.png alt=Linux/Unix重要find命令详解Linux/Unix重要find命令详解></p><p>此处将打印出除 txt 文本文件外的的所有文件。</p><p><strong>基于目录深度的搜索</strong>：</p><p>find 命令指定遍历完所有的子目录。使用 -maxdepth 和-mindefth 可以限制 find 命令遍历的目录深度，并且 find 命令默认不搜索符号链接，可以用 -L 选项改变这种行为。</p><p><img src=https://fs.poneding.com/images/4-9.png alt=Linux/Unix重要find命令详解Linux/Unix重要find命令详解></p><p>例如-maxdepth的参数为1时，只匹配当前目录下。</p><p><img src=https://fs.poneding.com/images/5-11.png alt=Linux/Unix重要find命令详解Linux/Unix重要find命令详解></p><p>-mindepth 的参数代表了开始进行匹配的目录到 base_path 的最短距离。</p><p><strong>基于文件类型搜索</strong>：</p><p>使用 -type 可以指定搜索的文件类型，linux/unix 将所有的的一切都视为文件（文件类型有：普通文件 f，目录 d，符号链接 l，字符设备 c，块设备 b，套接字 s，FIFO-p），使用 -type 选项我们能够对文件类型进行过滤。</p><p><img src=https://fs.poneding.com/images/6-10.png alt=Linux/Unix重要find命令详解Linux/Unix重要find命令详解></p><p>此处就会只匹配出特定项下的所有普通文件，和目录。</p><p><strong>根据文件的时间戳进行搜索</strong>：</p><p>Linux/Unix 文件系统中的每一个文件都有三种时间戳，访问时间（-atime）,修改时间（-mtime）,变化时间（-ctime）,单位为天数，用整数指定，数字前加上+，表示大于这个时间；加上-，表示小于这个天数；不加表示刚好这个天数。</p><p><img src=https://fs.poneding.com/images/7-8.png alt=Linux/Unix重要find命令详解Linux/Unix重要find命令详解></p><p>此处的文件是我在进行截图之前才创建的，访问，修改，变化时间均小于一天。</p><p>当然相应的用分钟作为单位就可以用选项 (-amin）(-mmin)(-cmin)，如下我们测试修改时间</p><p><img src=https://fs.poneding.com/images/8-6.png alt=Linux/Unix重要find命令详解Linux/Unix重要find命令详解></p><p><strong>基于文件大小的搜索</strong>：</p><p>find 提供了指定文件大小的单位选项进而搜索符合大小文件的功能，这个搜索也常常会让用户感到非常舒服（b:块， c:字节， w:字， k:千字节， M:兆字节， G:吉字节）。</p><p>在搜索之前我们先用 ls（list）指令来查看下当前目录下的文件信息：</p><p><img src=https://fs.poneding.com/images/9-5.png alt=Linux/Unix重要find命令详解Linux/Unix重要find命令详解></p><p>信息的第五列就是各文件目录的大小（字节），我们通过指定匹配条件来搜索：</p><p><img src=https://fs.poneding.com/images/10-4.png alt=Linux/Unix重要find命令详解Linux/Unix重要find命令详解></p><p>经过测试，在开始目录下，文件类型为普通目录，文件大小大于30个字节的文件就是zl.txt了</p><p><strong>基于文件权限和所有权的匹配</strong>：</p><p>-perm 选项指定了 find 指匹配指定权限的文件，参数为文件对应的权限码。</p><p>我们仍然可参考⑥中的所有文件信息的第一列，此处需要掌握一定关于文件权限的知识。如下我们查找权限为 644 的普通文件，即用户可读写，组用户可读，其他可读。</p><p><img src=https://fs.poneding.com/images/11-5.png alt=Linux/Unix重要find命令详解Linux/Unix重要find命令详解></p><p>也可以用选项 -user,匹配指定用户所拥有的文件，参数为用户名或者UID</p><p><strong>利用find执行相应操作</strong>：</p><p>比如删除文件，使用 -delete 选项;删除测试目录下所有的 .txt 普通文件</p><p><img src=https://fs.poneding.com/images/12-4.png alt=Linux/Unix重要find命令详解Linux/Unix重要find命令详解></p><p>还可以利用 -exec 选项结合其他命令对文件进行更高效的操作，更改文件的所属权，复制文件等，find 命令使用一对花括号 {} 代表文件名，对于每一个匹配到的文件，find 命令会将{}替换成相应的文件名; 如果 -exec 的命令有多个参数时，需要注意结尾使用 " ; " 或者 &ldquo;+",前者表示进行转义，不然系统会以为是 find 命令的结尾。</p><p>我们将测试目录下的所有的 .txt 文件由用户 lihongbo 转换到用户 litao999，我们必须以 root 用户进行此操作，chown 用于更改权限：</p><p><img src=https://fs.poneding.com/images/13-4.png alt=Linux/Unix重要find命令详解Linux/Unix重要find命令详解></p><p><strong>指定 find 跳过特定的目录</strong>：</p><p>使用 -prune 选项可以跳过我们在搜寻的的一些明显我们不需要的目录</p><p><img src=https://fs.poneding.com/images/14-4.png alt=Linux/Unix重要find命令详解Linux/Unix重要find命令详解></p><p>跳过了 ./test1 目录</p><p>需要指出的是：选项出现的先后次序我们也应该考虑到内，因为它会影响到整条命令的执行效率。</p><h2 id=echo>echo
<a class=anchor href=#echo>#</a></h2><h2 id=curl>curl
<a class=anchor href=#curl>#</a></h2><p>返回httpStatusCode</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>curl -I -m <span class=m>10</span> -o /dev/null -s -w %<span class=o>{</span>http_code<span class=o>}</span> http://localhost/version
</span></span></code></pre></div><blockquote><ul><li>-I 仅测试HTTP头</li><li>-m 10 最多查询10s</li><li>-o /dev/null 屏蔽原有输出信息</li><li>-s silent 模式，不输出任何东西</li><li>-w %{http_code} 控制额外输出</li></ul></blockquote><h2 id=date>date
<a class=anchor href=#date>#</a></h2><p>查看今天是当年中的第几天</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>date <span class=s1>&#39;+%j&#39;</span>
</span></span></code></pre></div><p>按照“年-月-日 小时：分钟：秒”的格式查看当前系统时间</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>date <span class=s1>&#39;+%Y-%m-%d %H:%M:%S&#39;</span>
</span></span></code></pre></div><p>将系统的当前时间设置为2017年9月1日8点30分</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>date -s <span class=s1>&#39;20170901 8:30:00&#39;</span>
</span></span></code></pre></div><h2 id=source-命令>source 命令
<a class=anchor href=#source-%e5%91%bd%e4%bb%a4>#</a></h2><p>source命令将指定函数文件加载到某个shell脚本文件或当前命令窗口。</p><h3 id=语法-5>语法
<a class=anchor href=#%e8%af%ad%e6%b3%95-5>#</a></h3><p>基本使用语法如下：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=nb>source</span> &lt;filename&gt; <span class=o>[</span>arguments<span class=o>]</span>
</span></span><span class=line><span class=cl><span class=nb>source</span> functions.sh
</span></span><span class=line><span class=cl><span class=nb>source</span> /path/to/functions.sh arg1 arg2
</span></span><span class=line><span class=cl><span class=nb>source</span> functions.sh <span class=nv>WWWROOT</span><span class=o>=</span>/apache.jail <span class=nv>PHPROOT</span><span class=o>=</span>/fastcgi.php_jail
</span></span></code></pre></div><h3 id=示例>示例
<a class=anchor href=#%e7%a4%ba%e4%be%8b>#</a></h3><p>创建一个shell脚本文件mylib.sh，如下：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=cp>#!/bin/bash
</span></span></span><span class=line><span class=cl><span class=cp></span><span class=nv>JAIL_ROOT</span><span class=o>=</span>/www/httpd
</span></span><span class=line><span class=cl>is_root<span class=o>(){</span>
</span></span><span class=line><span class=cl>  <span class=o>[</span><span class=k>$(</span>id -u<span class=k>)</span> -eq 0<span class=o>]</span> <span class=o>&amp;&amp;</span> <span class=k>return</span> <span class=nv>$TRUE</span> <span class=o>||</span> <span class=k>return</span> <span class=nv>$FALSE</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>function</span> to_lower<span class=o>()</span> 
</span></span><span class=line><span class=cl><span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=nb>local</span> <span class=nv>str</span><span class=o>=</span><span class=s2>&#34;</span><span class=nv>$@</span><span class=s2>&#34;</span>
</span></span><span class=line><span class=cl>    <span class=nb>local</span> output     
</span></span><span class=line><span class=cl>    <span class=nv>output</span><span class=o>=</span><span class=k>$(</span>tr <span class=s1>&#39;[A-Z]&#39;</span> <span class=s1>&#39;[a-z]&#39;</span><span class=o>&lt;&lt;&lt;</span><span class=s2>&#34;</span><span class=si>${</span><span class=nv>str</span><span class=si>}</span><span class=s2>&#34;</span><span class=k>)</span>
</span></span><span class=line><span class=cl>    <span class=nb>echo</span> <span class=nv>$output</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></div><p>再创建一个shell脚本文件test.sh，在该文件中，可以通过使用如下的语法使用mylib.sh的<code>JAIL_ROOT</code>变量，调用<code>is_root</code>函数：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=cp>#!/bin/bash
</span></span></span><span class=line><span class=cl><span class=cp></span><span class=c1># 使用source命令加载mylib.sh</span>
</span></span><span class=line><span class=cl><span class=nb>source</span> mylib.sh
</span></span><span class=line><span class=cl><span class=nb>echo</span> <span class=s2>&#34;JAIL_ROOT is set to </span><span class=nv>$JAIL_ROOT</span><span class=s2>&#34;</span>
</span></span><span class=line><span class=cl><span class=c1># 调用is_root函数，并打印结果</span>
</span></span><span class=line><span class=cl>is_root <span class=o>&amp;&amp;</span> <span class=nb>echo</span> <span class=s2>&#34;You are logged in as root.&#34;</span> <span class=o>||</span> <span class=nb>echo</span> <span class=s2>&#34;You are not logged in as root.&#34;</span>
</span></span></code></pre></div><p>运行该文件：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>chmod +x test.sh
</span></span><span class=line><span class=cl>./test.sh
</span></span></code></pre></div><p>运行结果如下：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-tex data-lang=tex><span class=line><span class=cl>JAIL<span class=nb>_</span>ROOT is set to /www/httpd
</span></span><span class=line><span class=cl>You are not logged in as root.
</span></span></code></pre></div><p>在当前命令直接运行</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=nb>source</span> mylib.sh
</span></span><span class=line><span class=cl><span class=nb>echo</span> <span class=nv>$JAIL_ROOT</span>
</span></span></code></pre></div><p>运行结果：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-tex data-lang=tex><span class=line><span class=cl>/www/httpd
</span></span></code></pre></div><hr><p><a href=/linux/history-with-date/>« Linux-history 输出附带日期</a></p><p><a href=/linux/linux-common-commands/>» Linux常用命令</a></p></article><footer class=book-footer><div class="flex flex-wrap justify-between"><div><a class="flex align-center" href=https://github.com/poneding/blog/commit/5faa4f1be5d4525c49e513962394eae7c15fb6f2 title='最后修改者 poneding | 2024/06/13' target=_blank rel=noopener><img src=/svg/calendar.svg class=book-icon alt>
<span>2024/06/13</span></a></div><div><a class="flex align-center" href=https://github.com/poneding/blog/edit/master/content/linux/linux-commands.md target=_blank rel=noopener><img src=/svg/edit.svg class=book-icon alt>
<span>编辑本页</span></a></div></div><script>(function(){function e(e){const t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}document.querySelectorAll("pre code").forEach(t=>{t.addEventListener("click",function(){if(window.getSelection().toString())return;e(t.parentElement),navigator.clipboard&&navigator.clipboard.writeText(t.parentElement.textContent)})})})()</script></footer><div class=book-comments><script src=https://giscus.app/client.js data-repo=poneding/blog data-repo-id=R_kgDOMITIHg data-category=General data-category-id=DIC_kwDOMITIHs4CgB4x data-mapping=url data-strict=0 data-reactions-enabled=1 data-emit-metadata=0 data-input-position=top data-theme=preferred_color_scheme data-lang=zh-CN data-loading=lazy crossorigin=anonymous async></script></div><label for=menu-control class="hidden book-menu-overlay"></label></div><aside class=book-toc><div class=book-toc-content><nav id=TableOfContents><ul><li><a href=#cat>cat</a><ul><li><a href=#使用权限>使用权限</a></li><li><a href=#语法格式>语法格式</a></li><li><a href=#参数说明>参数说明</a></li><li><a href=#实例>实例</a></li></ul></li><li><a href=#chattr>chattr</a><ul><li><a href=#语法>语法</a></li><li><a href=#参数>参数</a></li><li><a href=#实例-1>实例</a></li></ul></li><li><a href=#chgrp>chgrp</a><ul><li><a href=#语法-1>语法</a></li><li><a href=#参数说明-1>参数说明</a></li><li><a href=#实例-2>实例</a></li></ul></li><li><a href=#chmod>chmod</a><ul><li><a href=#语法-2>语法</a></li><li><a href=#参数说明-2>参数说明</a></li><li><a href=#实例-3>实例</a></li></ul></li><li><a href=#file>file</a><ul><li><a href=#语法-3>语法</a></li><li><a href=#实例-4>实例</a></li></ul></li><li><a href=#find>find</a><ul><li><a href=#语法-4>语法</a></li><li><a href=#实例-5>实例</a></li></ul></li><li><a href=#echo>echo</a></li><li><a href=#curl>curl</a></li><li><a href=#date>date</a></li><li><a href=#source-命令>source 命令</a><ul><li><a href=#语法-5>语法</a></li><li><a href=#示例>示例</a></li></ul></li></ul></nav></div></aside></main></body></html>